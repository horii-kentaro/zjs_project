<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 3: フロントエンド基盤 スキップ判断報告書 - 脆弱性管理システム</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .metadata {
            background: #f8f9fa;
            padding: 20px 40px;
            border-bottom: 3px solid #2196F3;
        }

        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .metadata-item {
            display: flex;
            flex-direction: column;
        }

        .metadata-label {
            font-weight: bold;
            color: #2196F3;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .metadata-value {
            color: #333;
            font-size: 1.1em;
        }

        .skip-banner {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            color: white;
            padding: 30px 40px;
            text-align: center;
            border-bottom: 3px solid #1976D2;
        }

        .skip-banner h2 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .skip-banner p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8em;
            color: #2196F3;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2196F3;
        }

        .subsection-title {
            font-size: 1.4em;
            color: #1976D2;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 30px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #2196F3 0%, #42A5F5 100%);
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .task-list {
            list-style: none;
            margin: 20px 0;
        }

        .task-item {
            padding: 12px 15px;
            margin: 8px 0;
            border-radius: 5px;
            display: flex;
            align-items: center;
        }

        .task-item.completed {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        .task-item.skipped {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
        }

        .task-item.pending {
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
        }

        .task-status {
            font-weight: bold;
            margin-right: 10px;
            font-size: 1.2em;
        }

        .task-item.completed .task-status {
            color: #28a745;
        }

        .task-item.skipped .task-status {
            color: #2196F3;
        }

        .task-item.pending .task-status {
            color: #6c757d;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        th {
            background: #2196F3;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            margin-right: 5px;
        }

        .badge-skipped {
            background: #2196F3;
            color: white;
        }

        .badge-completed {
            background: #28a745;
            color: white;
        }

        .badge-alternative {
            background: #17a2b8;
            color: white;
        }

        .badge-no-debt {
            background: #28a745;
            color: white;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
        }

        .footer {
            background: #f8f9fa;
            padding: 30px 40px;
            text-align: center;
            border-top: 3px solid #2196F3;
            color: #6c757d;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
            margin: 20px 0;
        }

        .timeline-item {
            padding: 20px;
            border-left: 3px solid #2196F3;
            margin-left: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .timeline-item:before {
            content: '';
            position: absolute;
            left: -8px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #2196F3;
            border-radius: 50%;
        }

        .timeline-date {
            font-weight: bold;
            color: #2196F3;
            margin-bottom: 10px;
        }

        .timeline-content {
            color: #333;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .highlight {
            background: linear-gradient(120deg, #64B5F6 0%, #90CAF9 100%);
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: bold;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
        }

        .comparison-card h4 {
            color: #2196F3;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .comparison-card ul {
            list-style: none;
            padding-left: 0;
        }

        .comparison-card li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .comparison-card li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #2196F3;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Phase 3: フロントエンド基盤 スキップ判断報告書</h1>
            <div class="subtitle">脆弱性管理システム - 意図的な設計判断の記録</div>
        </div>

        <div class="metadata">
            <div class="metadata-grid">
                <div class="metadata-item">
                    <div class="metadata-label">プロジェクト名</div>
                    <div class="metadata-value">脆弱性管理システム</div>
                </div>
                <div class="metadata-item">
                    <div class="metadata-label">判断日</div>
                    <div class="metadata-value">2026年1月8日</div>
                </div>
                <div class="metadata-item">
                    <div class="metadata-label">ステータス</div>
                    <div class="metadata-value">スキップ（意図的な設計判断）</div>
                </div>
                <div class="metadata-item">
                    <div class="metadata-label">作成者</div>
                    <div class="metadata-value">Claude Code</div>
                </div>
            </div>
        </div>

        <div class="skip-banner">
            <h2>Phase 3: フロントエンド基盤 - スキップ</h2>
            <p>React + Vite + MUI v6基盤の構築を意図的にスキップし、FastAPI + Jinja2による簡易UI実装を選択</p>
        </div>

        <div class="content">
            <!-- エグゼクティブサマリー -->
            <div class="section">
                <h2 class="section-title">エグゼクティブサマリー</h2>
                <div class="success-box">
                    <p><strong>Phase 3スキップの判断:</strong> Phase 1の開発アプローチとして「究極のMVP（1ページ）」を選択した結果、React + Vite + MUI v6によるフロントエンド基盤の構築は不要となりました。代わりに、FastAPI + Jinja2による簡易UI実装をPhase 4で完了し、<span class="highlight">766行のコードで全機能を実装</span>しました。</p>
                    <p style="margin-top: 15px;"><strong>結果:</strong> 開発期間を<strong>12-21時間短縮</strong>し、技術的負債ゼロで、Phase 1の目的（データ取得基盤の構築）を達成しました。</p>
                </div>

                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="metric-label">スキップしたPhase数</div>
                        <div class="metric-value">1</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">代替実装（Phase 4）</div>
                        <div class="metric-value">766行</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">開発期間短縮</div>
                        <div class="metric-value">12-21h</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">技術的負債</div>
                        <div class="metric-value">0件</div>
                    </div>
                </div>
            </div>

            <!-- Phase 3の当初計画 -->
            <div class="section">
                <h2 class="section-title">Phase 3の当初計画</h2>
                <div class="info-box">
                    <h3 style="margin-bottom: 15px;">フロントエンド基盤（React + Vite + MUI v6）</h3>
                    <p>当初のPhase 3計画では、以下の技術スタックでフロントエンド基盤を構築する予定でした：</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>React 18+</strong>: モダンなUIライブラリ</li>
                        <li><strong>Vite 5+</strong>: 高速ビルドツール</li>
                        <li><strong>MUI (Material-UI) v6</strong>: マテリアルデザインコンポーネントライブラリ</li>
                        <li><strong>TypeScript</strong>: 型安全性</li>
                        <li><strong>React Router v6</strong>: ページルーティング</li>
                        <li><strong>Axios</strong>: APIクライアント</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>推定工数:</strong> 12-21時間（環境構築、ルーティング設定、MUI設定、共通コンポーネント作成）</p>
                </div>

                <h3 class="subsection-title">Phase 3で実装予定だった内容</h3>
                <table>
                    <thead>
                        <tr>
                            <th>タスク</th>
                            <th>内容</th>
                            <th>推定工数</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Viteプロジェクト初期化</td>
                            <td>React + TypeScriptテンプレート、依存関係インストール</td>
                            <td>1-2時間</td>
                        </tr>
                        <tr>
                            <td>MUI v6セットアップ</td>
                            <td>テーマ設定、CssBaseline、フォント設定</td>
                            <td>2-3時間</td>
                        </tr>
                        <tr>
                            <td>ルーティング設定</td>
                            <td>React Router v6、ページレイアウト、ナビゲーション</td>
                            <td>3-5時間</td>
                        </tr>
                        <tr>
                            <td>共通コンポーネント</td>
                            <td>ヘッダー、フッター、ローディングスピナー、エラー表示</td>
                            <td>4-6時間</td>
                        </tr>
                        <tr>
                            <td>APIクライアント設定</td>
                            <td>Axios設定、エラーハンドリング、インターセプター</td>
                            <td>2-3時間</td>
                        </tr>
                        <tr>
                            <td>ビルド設定・最適化</td>
                            <td>環境変数、プロダクションビルド、静的ファイル配信</td>
                            <td>1-2時間</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- スキップの理由と経緯 -->
            <div class="section">
                <h2 class="section-title">スキップの理由と経緯</h2>

                <h3 class="subsection-title">Phase 1 Step#2.5: MVPルート選択（2026-01-07）</h3>
                <div class="info-box">
                    <p>Phase 1の要件定義段階（Step#2.5）で、<strong>「究極のMVP（1ページ）」</strong>を選択しました。この判断により、Phase 3のフロントエンド基盤構築は不要となりました。</p>
                    <p style="margin-top: 15px;"><strong>選択理由:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Phase 1の目的は「データ取得基盤」の構築</li>
                        <li>簡易UIは「データが正しく保存されているか確認する」ための最小限の機能で十分</li>
                        <li>Phase 5以降で本格的なダッシュボードを実装する方が、設計の自由度が高い</li>
                        <li>2週間で確実に高品質なバックエンドを完成させられる</li>
                    </ul>
                </div>

                <h3 class="subsection-title">スキップの詳細理由</h3>
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>理由1: Phase 1の目的との整合性</h4>
                        <ul>
                            <li>Phase 1の目的: JVN iPedia APIからのデータ取得基盤構築</li>
                            <li>簡易UIは動作確認用の補助機能</li>
                            <li>React基盤は本格的なダッシュボード向け</li>
                            <li>MVPルートでは過剰な投資</li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h4>理由2: 開発期間の最適化</h4>
                        <ul>
                            <li>Phase 3実装: 12-21時間</li>
                            <li>FastAPI + Jinja2: 4-6時間</li>
                            <li>12-21時間の短縮効果</li>
                            <li>バックエンド実装に集中可能</li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h4>理由3: 技術的負債の回避</h4>
                        <ul>
                            <li>React基盤を構築しても1ページしか作らない</li>
                            <li>未使用の機能（ルーティング、状態管理等）が残る</li>
                            <li>メンテナンスコストのみ発生</li>
                            <li>FastAPI + Jinja2は必要最小限</li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h4>理由4: 将来の拡張計画の明確化</h4>
                        <ul>
                            <li>Phase 5以降で本格的なダッシュボード実装</li>
                            <li>その時点でReact + MUI v6を導入</li>
                            <li>ユーザーフィードバックを反映した設計</li>
                            <li>スキップは将来の拡張を阻害しない</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 代替アプローチ -->
            <div class="section">
                <h2 class="section-title">代替アプローチ: FastAPI + Jinja2</h2>

                <h3 class="subsection-title">採用技術</h3>
                <table>
                    <thead>
                        <tr>
                            <th>技術</th>
                            <th>用途</th>
                            <th>選定理由</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>FastAPI</td>
                            <td>バックエンドフレームワーク</td>
                            <td>バックエンドとフロントエンドを統合、デプロイが容易</td>
                        </tr>
                        <tr>
                            <td>Jinja2</td>
                            <td>テンプレートエンジン</td>
                            <td>FastAPIに標準統合、シンプルなHTML生成</td>
                        </tr>
                        <tr>
                            <td>Vanilla JavaScript</td>
                            <td>クライアントサイド処理</td>
                            <td>ビルドツール不要、最小限の依存関係</td>
                        </tr>
                        <tr>
                            <td>CSS（カスタム）</td>
                            <td>スタイリング</td>
                            <td>MUIライブラリ不要、軽量</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="subsection-title">Phase 4での代替実装内容</h3>
                <div class="success-box">
                    <h4>実装完了（2026-01-08）</h4>
                    <p><strong>総コード量:</strong> 766行（HTMLテンプレート、CSS、JavaScript、API含む）</p>
                    <p style="margin-top: 15px;"><strong>実装機能:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>脆弱性一覧表示（CVE ID、タイトル、重要度、公開日、更新日）</li>
                        <li>検索機能（CVE ID + タイトルで部分一致検索）</li>
                        <li>詳細表示機能（モーダルウィンドウ）</li>
                        <li>ページネーション（50件/ページ）</li>
                        <li>ソート機能（公開日、更新日、重要度）</li>
                        <li>レスポンシブデザイン</li>
                    </ul>
                </div>

                <h3 class="subsection-title">実装ファイル詳細</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ファイル</th>
                            <th>行数</th>
                            <th>内容</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>src/templates/vulnerabilities.html</td>
                            <td>約250行</td>
                            <td>脆弱性一覧ページ、検索フォーム、詳細モーダル</td>
                        </tr>
                        <tr>
                            <td>src/templates/base.html</td>
                            <td>約50行</td>
                            <td>共通レイアウト、ヘッダー、フッター</td>
                        </tr>
                        <tr>
                            <td>src/static/css/style.css</td>
                            <td>約250行</td>
                            <td>スタイル定義、レスポンシブデザイン</td>
                        </tr>
                        <tr>
                            <td>src/static/js/main.js</td>
                            <td>約150行</td>
                            <td>モーダル制御、ソート、検索処理</td>
                        </tr>
                        <tr>
                            <td>src/api/vulnerabilities.py</td>
                            <td>約66行</td>
                            <td>APIエンドポイント（一覧取得、詳細取得）</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- タイムライン -->
            <div class="section">
                <h2 class="section-title">スキップ決定のタイムライン</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">2026-01-07（Phase 1 Step#2.5）</div>
                        <div class="timeline-content">
                            <strong>MVPルート選択</strong><br>
                            「究極のMVP（1ページ）」を選択し、Phase 3のフロントエンド基盤構築をスキップする方針を決定。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2026-01-07（Phase 1完了）</div>
                        <div class="timeline-content">
                            <strong>要件定義完了</strong><br>
                            docs/requirements.mdに「Phase 3: スキップ（FastAPI + Jinja2による簡易UI実装）」を明記。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2026-01-08（Phase 2完了）</div>
                        <div class="timeline-content">
                            <strong>Git/GitHub管理完了</strong><br>
                            Phase 3をスキップし、Phase 4（ページ実装）に直接進行。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2026-01-08（Phase 4実装）</div>
                        <div class="timeline-content">
                            <strong>FastAPI + Jinja2実装完了</strong><br>
                            766行のコードで全機能を実装（脆弱性一覧、検索、詳細表示、ページネーション、ソート）。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2026-01-08（Phase 4完了）</div>
                        <div class="timeline-content">
                            <strong>Phase 3スキップ判断の確定</strong><br>
                            FastAPI + Jinja2による代替実装が成功し、Phase 3のスキップ判断が正しかったことを確認。
                        </div>
                    </div>
                </div>
            </div>

            <!-- 影響分析 -->
            <div class="section">
                <h2 class="section-title">影響分析</h2>

                <h3 class="subsection-title">開発期間への影響</h3>
                <div class="success-box">
                    <table>
                        <thead>
                            <tr>
                                <th>項目</th>
                                <th>Phase 3実装</th>
                                <th>Phase 4代替実装</th>
                                <th>短縮時間</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>フロントエンド基盤</td>
                                <td>12-21時間</td>
                                <td>0時間（スキップ）</td>
                                <td><strong>12-21時間</strong></td>
                            </tr>
                            <tr>
                                <td>ページ実装</td>
                                <td>8-12時間（React）</td>
                                <td>4-6時間（FastAPI + Jinja2）</td>
                                <td><strong>4-6時間</strong></td>
                            </tr>
                            <tr>
                                <td>合計</td>
                                <td>20-33時間</td>
                                <td>4-6時間</td>
                                <td><strong>16-27時間</strong></td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 15px;"><strong>結果:</strong> 開発期間を<span class="highlight">16-27時間短縮</span>し、バックエンド実装（Phase 5-7）に集中できました。</p>
                </div>

                <h3 class="subsection-title">後続フェーズへの影響</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Phase</th>
                            <th>影響</th>
                            <th>状況</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Phase 4: ページ実装</td>
                            <td>FastAPI + Jinja2で代替実装</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                        <tr>
                            <td>Phase 5: 環境構築</td>
                            <td>影響なし（PostgreSQL Neon構築）</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                        <tr>
                            <td>Phase 6: バックエンド計画</td>
                            <td>影響なし（JVN API統合計画）</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                        <tr>
                            <td>Phase 7: バックエンド実装</td>
                            <td>影響なし（データ取得・永続化）</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                        <tr>
                            <td>Phase 8: API統合</td>
                            <td>Phase 7で完了済み（スキップ）</td>
                            <td><span class="badge badge-skipped">スキップ</span></td>
                        </tr>
                        <tr>
                            <td>Phase 9: テスト・Docker</td>
                            <td>影響なし（カバレッジ81%達成）</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                        <tr>
                            <td>Phase 10: 本番運用保障</td>
                            <td>影響なし（リアルタイム取得機能実装）</td>
                            <td><span class="badge badge-completed">完了</span></td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="subsection-title">技術的負債の評価</h3>
                <div class="success-box">
                    <h4><span class="badge badge-no-debt">技術的負債: 0件</span></h4>
                    <p style="margin-top: 15px;"><strong>評価結果:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>未使用コード:</strong> なし（FastAPI + Jinja2は必要最小限の実装）</li>
                        <li><strong>メンテナンスコスト:</strong> 低い（依存関係が少ない）</li>
                        <li><strong>拡張性:</strong> Phase 5以降でReact + MUI v6を導入可能（並行稼働も可能）</li>
                        <li><strong>互換性:</strong> FastAPI + Jinja2はバックエンドと統合されており、将来のReact導入を阻害しない</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>結論:</strong> Phase 3のスキップは技術的負債を生まず、将来の拡張を阻害しない正しい判断でした。</p>
                </div>
            </div>

            <!-- 技術的決定事項 -->
            <div class="section">
                <h2 class="section-title">技術的決定事項</h2>

                <h3 class="subsection-title">採用技術（Phase 4実装）</h3>
                <table>
                    <thead>
                        <tr>
                            <th>技術</th>
                            <th>理由</th>
                            <th>メリット</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>FastAPI</td>
                            <td>バックエンドとフロントエンドを統合</td>
                            <td>デプロイが容易、単一サーバーで動作、高速</td>
                        </tr>
                        <tr>
                            <td>Jinja2</td>
                            <td>FastAPIに標準統合</td>
                            <td>学習コストが低い、サーバーサイドレンダリング</td>
                        </tr>
                        <tr>
                            <td>Vanilla JavaScript</td>
                            <td>ビルドツール不要</td>
                            <td>依存関係が少ない、デバッグが容易</td>
                        </tr>
                        <tr>
                            <td>CSS（カスタム）</td>
                            <td>MUIライブラリ不要</td>
                            <td>軽量、カスタマイズが容易</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="subsection-title">不採用技術とその理由</h3>
                <table>
                    <thead>
                        <tr>
                            <th>技術</th>
                            <th>不採用理由</th>
                            <th>将来の採用予定</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>React 18+</td>
                            <td>1ページのみの実装では過剰、学習コスト高い</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                        <tr>
                            <td>Vite 5+</td>
                            <td>ビルドツールが不要（Vanilla JSで十分）</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                        <tr>
                            <td>MUI (Material-UI) v6</td>
                            <td>コンポーネントライブラリが不要（カスタムCSSで対応）</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                        <tr>
                            <td>TypeScript</td>
                            <td>型安全性は不要（バックエンドでバリデーション済み）</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                        <tr>
                            <td>React Router v6</td>
                            <td>ページルーティングが不要（1ページのみ）</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                        <tr>
                            <td>Axios</td>
                            <td>Fetch APIで十分</td>
                            <td><span class="badge badge-alternative">Phase 5以降</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 将来の拡張計画 -->
            <div class="section">
                <h2 class="section-title">将来の拡張計画</h2>

                <h3 class="subsection-title">Phase 5以降の実装予定</h3>
                <div class="info-box">
                    <p><strong>本格的なダッシュボード実装:</strong> Phase 5以降で、React + MUI v6による本格的なダッシュボードを実装します。</p>
                    <p style="margin-top: 15px;"><strong>実装予定機能:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>高度なフィルタリング（製品名、ベンダー、重要度、日付範囲）</li>
                        <li>グラフ・統計表示（月別トレンド、重要度分布、ベンダー別統計）</li>
                        <li>CPEマッチング結果の可視化（自社製品への影響評価）</li>
                        <li>通知設定・レポート生成</li>
                        <li>ダークモード対応</li>
                        <li>ユーザー認証・権限管理</li>
                    </ul>
                </div>

                <h3 class="subsection-title">React + MUI v6導入のメリット</h3>
                <table>
                    <thead>
                        <tr>
                            <th>メリット</th>
                            <th>説明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ユーザーフィードバック反映</td>
                            <td>Phase 1-4で収集したフィードバックを設計に反映できる</td>
                        </tr>
                        <tr>
                            <td>最新技術の採用</td>
                            <td>Phase 5時点での最新バージョンのReact/MUIを採用できる</td>
                        </tr>
                        <tr>
                            <td>段階的な移行</td>
                            <td>FastAPI + Jinja2とReactを並行稼働させ、段階的に移行できる</td>
                        </tr>
                        <tr>
                            <td>技術的負債の回避</td>
                            <td>Phase 3でReact基盤を構築しても1ページしか作らないという無駄を回避</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="subsection-title">拡張計画のタイムライン</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">Phase 5: データソース拡張</div>
                        <div class="timeline-content">
                            <strong>NVD API・CISA KEV統合</strong><br>
                            JVN iPedia APIに加え、NVD API 2.0とCISA KEVを統合し、データソースを拡充。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">Phase 6: ダッシュボード基盤</div>
                        <div class="timeline-content">
                            <strong>React + MUI v6基盤構築</strong><br>
                            Vite、TypeScript、React Router v6、Axiosを含むモダンなフロントエンド基盤を構築。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">Phase 7: 高度なUI実装</div>
                        <div class="timeline-content">
                            <strong>グラフ・統計表示</strong><br>
                            Chart.js/Recharts等のライブラリで月別トレンド、重要度分布、ベンダー別統計を可視化。
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">Phase 8: CPEマッチング</div>
                        <div class="timeline-content">
                            <strong>自社製品への影響評価</strong><br>
                            CPEマッチング結果を可視化し、自社製品への影響を評価可能にする。
                        </div>
                    </div>
                </div>
            </div>

            <!-- 主要な意思決定サマリー -->
            <div class="section">
                <h2 class="section-title">主要な意思決定サマリー</h2>

                <table>
                    <thead>
                        <tr>
                            <th>決定事項</th>
                            <th>選択内容</th>
                            <th>理由</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Phase 3のスキップ</td>
                            <td>React + Vite + MUI v6基盤を構築しない</td>
                            <td>MVPルートでは1ページのみ実装するため、フロントエンド基盤は過剰</td>
                        </tr>
                        <tr>
                            <td>代替実装の選択</td>
                            <td>FastAPI + Jinja2 + Vanilla JS</td>
                            <td>バックエンドと統合、依存関係最小、開発期間短縮（16-27時間）</td>
                        </tr>
                        <tr>
                            <td>実装タイミング</td>
                            <td>Phase 4で代替実装を完了</td>
                            <td>Phase 3をスキップし、Phase 4に直接進行</td>
                        </tr>
                        <tr>
                            <td>技術的負債</td>
                            <td>ゼロ（負債なし）</td>
                            <td>未使用コードなし、メンテナンスコスト低、拡張性を阻害しない</td>
                        </tr>
                        <tr>
                            <td>将来の拡張</td>
                            <td>Phase 5以降でReact + MUI v6を導入</td>
                            <td>ユーザーフィードバック反映、最新技術採用、段階的移行が可能</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 結論 -->
            <div class="section">
                <h2 class="section-title">結論</h2>
                <div class="success-box">
                    <h3 style="margin-bottom: 15px;">Phase 3スキップは正しい判断だった</h3>
                    <p><strong>成果:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><span class="badge badge-completed">開発期間短縮</span> 16-27時間の短縮効果</li>
                        <li><span class="badge badge-completed">技術的負債ゼロ</span> 未使用コードなし、メンテナンスコスト低</li>
                        <li><span class="badge badge-completed">全機能実装</span> 766行のコードで脆弱性一覧・検索・詳細表示・ページネーション・ソートを実装</li>
                        <li><span class="badge badge-completed">後続フェーズ順調</span> Phase 5-10まで全て完了、問題なし</li>
                        <li><span class="badge badge-completed">拡張性確保</span> Phase 5以降でReact + MUI v6を導入可能</li>
                    </ul>

                    <p style="margin-top: 20px;"><strong>Phase 1の目的達成:</strong></p>
                    <p>JVN iPedia APIから脆弱性情報を自動取得し、PostgreSQLに永続化する堅牢なデータ基盤を構築しました。簡易UI（FastAPI + Jinja2）で動作確認が可能で、Phase 5以降の本格的なダッシュボード実装を阻害しません。</p>

                    <p style="margin-top: 20px;"><strong>スキップ判断の妥当性:</strong></p>
                    <p>Phase 3のスキップは、<strong>「必要最小限の実装のみを行う」</strong>というMVP原則に完全に合致しており、開発期間の短縮、技術的負債の回避、将来の拡張性確保のすべてを実現した<span class="highlight">最適な意思決定</span>でした。</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>作成者:</strong> Claude Code</p>
            <p><strong>作成日:</strong> 2026年1月14日</p>
            <p><strong>GitHubリポジトリ:</strong> <a href="https://github.com/horii-kentaro/zjs_project" target="_blank">https://github.com/horii-kentaro/zjs_project</a></p>
            <p style="margin-top: 15px; font-size: 0.9em;">このレポートは Phase 3のスキップ判断を記録したものです。<br>最新の進捗状況は SCOPE_PROGRESS.md をご確認ください。</p>
        </div>
    </div>
</body>
</html>
