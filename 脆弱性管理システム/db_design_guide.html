<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBè¨­è¨ˆãƒ»ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: #f6f8fa;
            color: #24292f;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #24292f;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            text-align: center;
            color: #57606a;
            margin-bottom: 30px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .section h2 {
            color: #24292f;
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #336791;
        }
        
        /* PostgreSQL ã‚«ãƒ©ãƒ¼ */
        .pg-blue { color: #336791; }
        .pg-bg { background: #336791; color: white; }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #d0d7de;
        }
        th {
            background: #f6f8fa;
            font-weight: 600;
        }
        
        /* æ¯”è¼ƒãƒœãƒƒã‚¯ã‚¹ */
        .compare-row {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .compare-col {
            flex: 1;
            border: 1px solid #d0d7de;
            border-radius: 8px;
            overflow: hidden;
        }
        .compare-header {
            padding: 12px 16px;
            font-weight: 600;
            text-align: center;
        }
        .compare-header.old { background: #ffebe9; color: #cf222e; }
        .compare-header.new { background: #dafbe1; color: #1a7f37; }
        .compare-body {
            padding: 16px;
            font-size: 14px;
        }
        .compare-body ul {
            margin-left: 20px;
        }
        .compare-body li {
            margin: 6px 0;
        }
        
        /* ERå›³ */
        .er-diagram {
            background: #f6f8fa;
            border-radius: 8px;
            padding: 24px;
            margin: 20px 0;
            overflow-x: auto;
        }
        .er-svg {
            width: 100%;
            min-width: 800px;
            height: 500px;
        }
        
        /* ãƒ•ã‚§ãƒ¼ã‚º */
        .phase-timeline {
            margin: 20px 0;
        }
        .phase-item {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #336791;
        }
        .phase-number {
            width: 40px;
            height: 40px;
            background: #336791;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .phase-content h4 {
            margin-bottom: 4px;
        }
        .phase-content p {
            font-size: 14px;
            color: #57606a;
        }
        
        /* ãƒã‚¤ãƒ³ãƒˆãƒœãƒƒã‚¯ã‚¹ */
        .point-box {
            background: #ddf4ff;
            border: 1px solid #54aeff;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .point-box h4 {
            color: #0969da;
            margin-bottom: 8px;
        }
        .point-box ul {
            margin-left: 20px;
        }
        .point-box li {
            margin: 4px 0;
        }
        
        .callout {
            background: #fff8c5;
            border: 1px solid #d4a72c;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-size: 14px;
        }
        .callout::before {
            content: "ğŸ’¡";
            margin-right: 8px;
        }
        
        .recommend-box {
            background: #dafbe1;
            border: 1px solid #2da44e;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .recommend-box h4 {
            color: #1a7f37;
            margin-bottom: 8px;
        }
        
        .warning-box {
            background: #ffebe9;
            border: 1px solid #ff8182;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .warning-box h4 {
            color: #cf222e;
            margin-bottom: 8px;
        }
        
        /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ */
        .code-block {
            background: #24292f;
            color: #e6edf3;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 16px 0;
            line-height: 1.5;
        }
        .code-block .comment {
            color: #8b949e;
        }
        .code-block .keyword {
            color: #ff7b72;
        }
        .code-block .type {
            color: #79c0ff;
        }
        .code-block .string {
            color: #a5d6ff;
        }
        .code-block .table-name {
            color: #7ee787;
        }
        
        code {
            background: #f6f8fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
        }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã‚«ãƒ¼ãƒ‰ */
        .table-card {
            border: 1px solid #d0d7de;
            border-radius: 8px;
            margin: 16px 0;
            overflow: hidden;
        }
        .table-card-header {
            background: #336791;
            color: white;
            padding: 12px 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .table-card-body {
            padding: 0;
        }
        .table-card table {
            margin: 0;
        }
        .table-card th, .table-card td {
            padding: 8px 12px;
            font-size: 13px;
        }
        .pk { color: #cf222e; font-weight: bold; }
        .fk { color: #0969da; font-weight: bold; }
        .nullable { color: #57606a; }
        
        /* ãƒ•ãƒ­ãƒ¼å›³ */
        .flow-horizontal {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: #f6f8fa;
            border-radius: 8px;
        }
        .flow-step {
            text-align: center;
            flex: 1;
            min-width: 120px;
        }
        .flow-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-size: 24px;
            color: white;
        }
        .flow-title {
            font-weight: bold;
            font-size: 13px;
            margin-bottom: 4px;
        }
        .flow-desc {
            font-size: 11px;
            color: #57606a;
        }
        .flow-arrow {
            font-size: 24px;
            color: #8c959f;
        }
        
        /* ã‚³ã‚¢/æ‹¡å¼µã®åŒºåˆ†ã‘ */
        .core-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            background: #dafbe1;
            color: #1a7f37;
        }
        .extend-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            background: #ddf4ff;
            color: #0969da;
        }
        .future-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            background: #f6f8fa;
            color: #57606a;
        }

        @media (max-width: 768px) {
            .compare-row {
                flex-direction: column;
            }
        }

        @media print {
            body { background: white; }
            .section { box-shadow: none; border: 1px solid #ddd; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—„ï¸ DBè¨­è¨ˆãƒ»ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ ã‚¬ã‚¤ãƒ‰</h1>
        <p class="subtitle">ä¸¦è¡Œé–‹ç™ºã§ã®æ®µéšçš„ãªDBæ§‹ç¯‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</p>

        <!-- èª²é¡Œèªè­˜ -->
        <div class="section">
            <h2>â“ ã‚ˆãã‚ã‚‹ç–‘å•</h2>
            
            <div class="warning-box">
                <h4>ã€Œå…¨ä»•æ§˜ãŒæ±ºã¾ã£ã¦ã‹ã‚‰ã§ãªã„ã¨DBã¯ä½œã‚Œãªã„ã®ã§ã¯ï¼Ÿã€</h4>
                <p>å¾“æ¥ã®ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«é–‹ç™ºã§ã¯ãã®é€šã‚Šã§ã™ã€‚ã—ã‹ã—ã€ä¸¦è¡Œé–‹ç™ºã§ã¯<strong>ã€Œæ®µéšçš„ã«ä½œã‚‹ã€</strong>ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å–ã‚Šã¾ã™ã€‚</p>
            </div>
            
            <div class="compare-row">
                <div class="compare-col">
                    <div class="compare-header old">âŒ å¾“æ¥ã®è€ƒãˆæ–¹</div>
                    <div class="compare-body">
                        <p style="text-align: center; margin-bottom: 12px;">ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«å‹</p>
                        <ul>
                            <li>å…¨ä»•æ§˜ã‚’ç¢ºå®š</li>
                            <li>â†“</li>
                            <li>DBè¨­è¨ˆ</li>
                            <li>â†“</li>
                            <li>å®Ÿè£…</li>
                            <li>â†“</li>
                            <li>ãƒ†ã‚¹ãƒˆ</li>
                        </ul>
                        <p style="margin-top: 12px; color: #cf222e;">
                            â†’ å…¨ã¦æ±ºã¾ã‚‹ã¾ã§ä½•ã‚‚ä½œã‚Œãªã„
                        </p>
                    </div>
                </div>
                <div class="compare-col">
                    <div class="compare-header new">âœ… ä¸¦è¡Œé–‹ç™ºã§ã®è€ƒãˆæ–¹</div>
                    <div class="compare-body">
                        <p style="text-align: center; margin-bottom: 12px;">æ®µéšçš„æ§‹ç¯‰</p>
                        <ul>
                            <li>ã‚³ã‚¢éƒ¨åˆ†ã‚’å…ˆã«è¨­è¨ˆãƒ»ä½œæˆ</li>
                            <li>â†“</li>
                            <li>å„æ©Ÿèƒ½ã¨é€£æºã—ãªãŒã‚‰æ‹¡å¼µ</li>
                            <li>â†“</li>
                            <li>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤‰æ›´ç®¡ç†</li>
                            <li>â†“</li>
                            <li>ç¶™ç¶šçš„ã«æ”¹å–„</li>
                        </ul>
                        <p style="margin-top: 12px; color: #1a7f37;">
                            â†’ å¤‰ã‚ã‚Šã«ãã„éƒ¨åˆ†ã‹ã‚‰ä½œã‚Šã€å¾Œã‹ã‚‰è¿½åŠ ãƒ»ä¿®æ­£
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŸºæœ¬åŸå‰‡ -->
        <div class="section">
            <h2>ğŸ“ æ®µéšçš„DBè¨­è¨ˆã®åŸºæœ¬åŸå‰‡</h2>
            
            <table>
                <tr>
                    <th style="width: 30%;">åŸå‰‡</th>
                    <th>èª¬æ˜</th>
                </tr>
                <tr>
                    <td><strong>1. ã‚³ã‚¢ã‹ã‚‰ä½œã‚‹</strong></td>
                    <td>ã‚·ã‚¹ãƒ†ãƒ ã®æœ¬è³ªçš„ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆè„†å¼±æ€§ã€è³‡ç”£ã€ãƒãƒƒãƒãƒ³ã‚°çµæœï¼‰ã¯æœ€åˆã‹ã‚‰è¨­è¨ˆã§ãã‚‹</td>
                </tr>
                <tr>
                    <td><strong>2. å¤‰æ›´ã‚’å‰æã¨ã™ã‚‹</strong></td>
                    <td>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã§å¤‰æ›´å±¥æ­´ã‚’ç®¡ç†ã—ã€ã„ã¤ã§ã‚‚æ‹¡å¼µã§ãã‚‹çŠ¶æ…‹ã‚’ç¶­æŒ</td>
                </tr>
                <tr>
                    <td><strong>3. æ‹…å½“é–“ã§é€£æºã™ã‚‹</strong></td>
                    <td>é€±æ¬¡ãƒŠãƒ¬ãƒƒã‚¸å…±æœ‰ä¼šã§ã€Œä½•ã‚’ä¿å­˜ã—ãŸã„ã‹ã€ã‚’å…±æœ‰ã—ã€DBè¨­è¨ˆã«åæ˜ </td>
                </tr>
                <tr>
                    <td><strong>4. æœ€é©åŒ–ã¯å¾Œå›ã—</strong></td>
                    <td>ã¾ãšå‹•ãã‚‚ã®ã‚’ä½œã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã¯ Sprint 4-5 ã§è¡Œã†</td>
                </tr>
            </table>
        </div>

        <!-- ã‚³ã‚¢ã¨æ‹¡å¼µã®åˆ†é¡ -->
        <div class="section">
            <h2>ğŸ¯ ã€Œã‚³ã‚¢ã€ã¨ã€Œæ‹¡å¼µã€ã®åˆ†é¡</h2>
            
            <div class="flow-horizontal">
                <div class="flow-step">
                    <div class="flow-icon" style="background: #1a7f37;">ğŸ“‹</div>
                    <div class="flow-title">ã‚³ã‚¢</div>
                    <div class="flow-desc">Sprint 1ã§ä½œæˆ<br>å¤‰ã‚ã‚Šã«ãã„</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: #0969da;">â•</div>
                    <div class="flow-title">æ‹¡å¼µ</div>
                    <div class="flow-desc">Sprint 2-3ã§è¿½åŠ <br>è¦ä»¶ã«åˆã‚ã›ã¦</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: #57606a;">ğŸ”®</div>
                    <div class="flow-title">å°†æ¥</div>
                    <div class="flow-desc">Sprint 4-5ä»¥é™<br>å¿…è¦ã«å¿œã˜ã¦</div>
                </div>
            </div>
            
            <table>
                <tr>
                    <th>åˆ†é¡</th>
                    <th>ãƒ†ãƒ¼ãƒ–ãƒ«</th>
                    <th>ç†ç”±</th>
                </tr>
                <tr>
                    <td><span class="core-badge">ã‚³ã‚¢</span></td>
                    <td>vulnerabilitiesï¼ˆè„†å¼±æ€§ï¼‰</td>
                    <td>ã‚·ã‚¹ãƒ†ãƒ ã®æ ¹å¹¹ã€‚CVEæƒ…å ±ã‚’ä¿å­˜</td>
                </tr>
                <tr>
                    <td><span class="core-badge">ã‚³ã‚¢</span></td>
                    <td>assetsï¼ˆè³‡ç”£ï¼‰</td>
                    <td>ã‚·ã‚¹ãƒ†ãƒ ã®æ ¹å¹¹ã€‚ç®¡ç†å¯¾è±¡ã‚’ä¿å­˜</td>
                </tr>
                <tr>
                    <td><span class="core-badge">ã‚³ã‚¢</span></td>
                    <td>asset_softwareï¼ˆè³‡ç”£-ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰</td>
                    <td>è³‡ç”£ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢</td>
                </tr>
                <tr>
                    <td><span class="core-badge">ã‚³ã‚¢</span></td>
                    <td>vulnerability_matchesï¼ˆãƒãƒƒãƒãƒ³ã‚°çµæœï¼‰</td>
                    <td>è„†å¼±æ€§ã¨è³‡ç”£ã®ç´ä»˜ã‘</td>
                </tr>
                <tr>
                    <td><span class="extend-badge">æ‹¡å¼µ</span></td>
                    <td>notification_settingsï¼ˆé€šçŸ¥è¨­å®šï¼‰</td>
                    <td>Sprint 2ã§æ‹…å½“Dã¨ç›¸è«‡ã—ã¦è¨­è¨ˆ</td>
                </tr>
                <tr>
                    <td><span class="extend-badge">æ‹¡å¼µ</span></td>
                    <td>notification_historyï¼ˆé€šçŸ¥å±¥æ­´ï¼‰</td>
                    <td>Sprint 2-3ã§è¿½åŠ </td>
                </tr>
                <tr>
                    <td><span class="extend-badge">æ‹¡å¼µ</span></td>
                    <td>remediation_tasksï¼ˆå¯¾ç­–ã‚¿ã‚¹ã‚¯ï¼‰</td>
                    <td>Sprint 3-4ã§è¿½åŠ </td>
                </tr>
                <tr>
                    <td><span class="future-badge">å°†æ¥</span></td>
                    <td>users / rolesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼/æ¨©é™ï¼‰</td>
                    <td>èªè¨¼ãŒå¿…è¦ã«ãªã£ãŸã‚‰</td>
                </tr>
                <tr>
                    <td><span class="future-badge">å°†æ¥</span></td>
                    <td>audit_logsï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰</td>
                    <td>ç›£æŸ»è¦ä»¶ã«å¿œã˜ã¦</td>
                </tr>
                <tr>
                    <td><span class="future-badge">å°†æ¥</span></td>
                    <td>reportsï¼ˆãƒ¬ãƒãƒ¼ãƒˆå±¥æ­´ï¼‰</td>
                    <td>ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã®æ‹¡å¼µæ™‚</td>
                </tr>
            </table>
        </div>

        <!-- ERå›³ -->
        <div class="section">
            <h2>ğŸ“Š ERå›³ï¼ˆã‚³ã‚¢ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰</h2>
            
            <p style="margin-bottom: 16px;">Sprint 1 ã§ä½œæˆã™ã‚‹ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ã®é–¢ä¿‚å›³ã§ã™ã€‚</p>
            
            <div class="er-diagram">
                <svg class="er-svg" viewBox="0 0 850 480">
                    <!-- èƒŒæ™¯ -->
                    <rect x="5" y="5" width="840" height="470" rx="8" fill="white" stroke="#d0d7de" stroke-width="2"/>
                    
                    <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                    <text x="425" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#24292f">è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ERå›³ï¼ˆã‚³ã‚¢ï¼‰</text>
                    
                    <!-- vulnerabilities ãƒ†ãƒ¼ãƒ–ãƒ« -->
                    <rect x="30" y="60" width="240" height="200" rx="6" fill="#f6f8fa" stroke="#336791" stroke-width="2"/>
                    <rect x="30" y="60" width="240" height="35" rx="6" fill="#336791"/>
                    <text x="150" y="83" text-anchor="middle" font-size="13" font-weight="bold" fill="white">vulnerabilities</text>
                    <text x="45" y="115" font-size="11" fill="#cf222e" font-weight="bold">PK</text>
                    <text x="75" y="115" font-size="11" fill="#24292f">id (SERIAL)</text>
                    <text x="45" y="135" font-size="11" fill="#24292f">cve_id (VARCHAR)</text>
                    <text x="45" y="155" font-size="11" fill="#24292f">title (VARCHAR)</text>
                    <text x="45" y="175" font-size="11" fill="#24292f">description (TEXT)</text>
                    <text x="45" y="195" font-size="11" fill="#24292f">cvss_score (DECIMAL)</text>
                    <text x="45" y="215" font-size="11" fill="#24292f">severity (VARCHAR)</text>
                    <text x="45" y="235" font-size="11" fill="#24292f">published_at (TIMESTAMP)</text>
                    <text x="45" y="250" font-size="11" fill="#24292f">source (VARCHAR)</text>
                    
                    <!-- assets ãƒ†ãƒ¼ãƒ–ãƒ« -->
                    <rect x="580" y="60" width="240" height="200" rx="6" fill="#f6f8fa" stroke="#336791" stroke-width="2"/>
                    <rect x="580" y="60" width="240" height="35" rx="6" fill="#336791"/>
                    <text x="700" y="83" text-anchor="middle" font-size="13" font-weight="bold" fill="white">assets</text>
                    <text x="595" y="115" font-size="11" fill="#cf222e" font-weight="bold">PK</text>
                    <text x="625" y="115" font-size="11" fill="#24292f">id (SERIAL)</text>
                    <text x="595" y="135" font-size="11" fill="#24292f">hostname (VARCHAR)</text>
                    <text x="595" y="155" font-size="11" fill="#24292f">asset_type (VARCHAR)</text>
                    <text x="595" y="175" font-size="11" fill="#24292f">os_name (VARCHAR)</text>
                    <text x="595" y="195" font-size="11" fill="#24292f">os_version (VARCHAR)</text>
                    <text x="595" y="215" font-size="11" fill="#24292f">ip_address (VARCHAR)</text>
                    <text x="595" y="235" font-size="11" fill="#24292f">environment (VARCHAR)</text>
                    <text x="595" y="250" font-size="11" fill="#24292f">last_scanned_at (TIMESTAMP)</text>
                    
                    <!-- asset_software ãƒ†ãƒ¼ãƒ–ãƒ« -->
                    <rect x="580" y="290" width="240" height="150" rx="6" fill="#f6f8fa" stroke="#336791" stroke-width="2"/>
                    <rect x="580" y="290" width="240" height="35" rx="6" fill="#336791"/>
                    <text x="700" y="313" text-anchor="middle" font-size="13" font-weight="bold" fill="white">asset_software</text>
                    <text x="595" y="345" font-size="11" fill="#cf222e" font-weight="bold">PK</text>
                    <text x="625" y="345" font-size="11" fill="#24292f">id (SERIAL)</text>
                    <text x="595" y="365" font-size="11" fill="#0969da" font-weight="bold">FK</text>
                    <text x="625" y="365" font-size="11" fill="#24292f">asset_id (INTEGER)</text>
                    <text x="595" y="385" font-size="11" fill="#24292f">software_name (VARCHAR)</text>
                    <text x="595" y="405" font-size="11" fill="#24292f">version (VARCHAR)</text>
                    <text x="595" y="425" font-size="11" fill="#24292f">cpe (VARCHAR)</text>
                    
                    <!-- vulnerability_matches ãƒ†ãƒ¼ãƒ–ãƒ« -->
                    <rect x="280" y="290" width="260" height="170" rx="6" fill="#f6f8fa" stroke="#336791" stroke-width="2"/>
                    <rect x="280" y="290" width="260" height="35" rx="6" fill="#336791"/>
                    <text x="410" y="313" text-anchor="middle" font-size="13" font-weight="bold" fill="white">vulnerability_matches</text>
                    <text x="295" y="345" font-size="11" fill="#cf222e" font-weight="bold">PK</text>
                    <text x="325" y="345" font-size="11" fill="#24292f">id (SERIAL)</text>
                    <text x="295" y="365" font-size="11" fill="#0969da" font-weight="bold">FK</text>
                    <text x="325" y="365" font-size="11" fill="#24292f">vulnerability_id (INTEGER)</text>
                    <text x="295" y="385" font-size="11" fill="#0969da" font-weight="bold">FK</text>
                    <text x="325" y="385" font-size="11" fill="#24292f">asset_id (INTEGER)</text>
                    <text x="295" y="405" font-size="11" fill="#24292f">detected_at (TIMESTAMP)</text>
                    <text x="295" y="425" font-size="11" fill="#24292f">status (VARCHAR)</text>
                    <text x="295" y="445" font-size="11" fill="#24292f">priority (INTEGER)</text>
                    
                    <!-- ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç·š -->
                    <!-- vulnerabilities â†’ vulnerability_matches -->
                    <path d="M 150 260 L 150 375 L 280 375" fill="none" stroke="#8c959f" stroke-width="2"/>
                    <circle cx="150" cy="260" r="4" fill="#336791"/>
                    <text x="200" y="365" font-size="10" fill="#57606a">1:N</text>
                    
                    <!-- assets â†’ vulnerability_matches -->
                    <path d="M 700 260 L 700 280 L 540 340 L 540 385" fill="none" stroke="#8c959f" stroke-width="2"/>
                    <circle cx="700" cy="260" r="4" fill="#336791"/>
                    <text x="555" y="340" font-size="10" fill="#57606a">1:N</text>
                    
                    <!-- assets â†’ asset_software -->
                    <line x1="700" y1="260" x2="700" y2="290" stroke="#8c959f" stroke-width="2"/>
                    <circle cx="700" cy="260" r="4" fill="#336791"/>
                    <text x="710" y="280" font-size="10" fill="#57606a">1:N</text>
                    
                    <!-- å‡¡ä¾‹ -->
                    <rect x="30" y="410" width="180" height="55" rx="4" fill="#f6f8fa" stroke="#d0d7de"/>
                    <text x="45" y="430" font-size="11" font-weight="bold" fill="#24292f">å‡¡ä¾‹</text>
                    <text x="45" y="448" font-size="10" fill="#cf222e" font-weight="bold">PK</text>
                    <text x="70" y="448" font-size="10" fill="#24292f">= Primary Key</text>
                    <text x="45" y="460" font-size="10" fill="#0969da" font-weight="bold">FK</text>
                    <text x="70" y="460" font-size="10" fill="#24292f">= Foreign Key</text>
                </svg>
            </div>
            
            <div class="point-box">
                <h4>ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ã®é–¢ä¿‚</h4>
                <ul>
                    <li><strong>vulnerabilitiesï¼ˆè„†å¼±æ€§ï¼‰</strong>ï¼šCVE/JVN ã‹ã‚‰å–å¾—ã—ãŸè„†å¼±æ€§æƒ…å ±</li>
                    <li><strong>assetsï¼ˆè³‡ç”£ï¼‰</strong>ï¼šç®¡ç†å¯¾è±¡ã®ã‚µãƒ¼ãƒãƒ¼/PC</li>
                    <li><strong>asset_softwareï¼ˆè³‡ç”£ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰</strong>ï¼šè³‡ç”£ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¸€è¦§</li>
                    <li><strong>vulnerability_matchesï¼ˆãƒãƒƒãƒãƒ³ã‚°çµæœï¼‰</strong>ï¼šã©ã®è³‡ç”£ãŒã©ã®è„†å¼±æ€§ã«è©²å½“ã™ã‚‹ã‹</li>
                </ul>
            </div>
        </div>

        <!-- ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾© -->
        <div class="section">
            <h2>ğŸ“ ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ï¼ˆSprint 1ï¼‰</h2>
            
            <div class="table-card">
                <div class="table-card-header">
                    ğŸ” vulnerabilitiesï¼ˆè„†å¼±æ€§æƒ…å ±ï¼‰
                </div>
                <div class="table-card-body">
                    <table>
                        <tr>
                            <th style="width: 25%;">ã‚«ãƒ©ãƒ å</th>
                            <th style="width: 20%;">å‹</th>
                            <th style="width: 15%;">åˆ¶ç´„</th>
                            <th>èª¬æ˜</th>
                        </tr>
                        <tr>
                            <td><span class="pk">id</span></td>
                            <td>SERIAL</td>
                            <td>PK</td>
                            <td>å†…éƒ¨ID</td>
                        </tr>
                        <tr>
                            <td>cve_id</td>
                            <td>VARCHAR(20)</td>
                            <td>UNIQUE, NOT NULL</td>
                            <td>CVE-2024-XXXXX å½¢å¼</td>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>VARCHAR(500)</td>
                            <td></td>
                            <td>è„†å¼±æ€§ã®ã‚¿ã‚¤ãƒˆãƒ«</td>
                        </tr>
                        <tr>
                            <td>description</td>
                            <td>TEXT</td>
                            <td></td>
                            <td>è©³ç´°èª¬æ˜</td>
                        </tr>
                        <tr>
                            <td>cvss_score</td>
                            <td>DECIMAL(3,1)</td>
                            <td></td>
                            <td>0.0ã€œ10.0</td>
                        </tr>
                        <tr>
                            <td>severity</td>
                            <td>VARCHAR(20)</td>
                            <td></td>
                            <td>CRITICAL/HIGH/MEDIUM/LOW</td>
                        </tr>
                        <tr>
                            <td>published_at</td>
                            <td>TIMESTAMP</td>
                            <td></td>
                            <td>å…¬é–‹æ—¥</td>
                        </tr>
                        <tr>
                            <td>source</td>
                            <td>VARCHAR(20)</td>
                            <td></td>
                            <td>JVN/NVD/INSPECTOR</td>
                        </tr>
                        <tr>
                            <td>affected_cpe</td>
                            <td>TEXT[]</td>
                            <td></td>
                            <td>å½±éŸ¿ã‚’å—ã‘ã‚‹CPEã®é…åˆ—</td>
                        </tr>
                        <tr>
                            <td>created_at</td>
                            <td>TIMESTAMP</td>
                            <td>DEFAULT NOW()</td>
                            <td>ç™»éŒ²æ—¥æ™‚</td>
                        </tr>
                        <tr>
                            <td>updated_at</td>
                            <td>TIMESTAMP</td>
                            <td>DEFAULT NOW()</td>
                            <td>æ›´æ–°æ—¥æ™‚</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-card-header">
                    ğŸ–¥ï¸ assetsï¼ˆè³‡ç”£æƒ…å ±ï¼‰
                </div>
                <div class="table-card-body">
                    <table>
                        <tr>
                            <th style="width: 25%;">ã‚«ãƒ©ãƒ å</th>
                            <th style="width: 20%;">å‹</th>
                            <th style="width: 15%;">åˆ¶ç´„</th>
                            <th>èª¬æ˜</th>
                        </tr>
                        <tr>
                            <td><span class="pk">id</span></td>
                            <td>SERIAL</td>
                            <td>PK</td>
                            <td>å†…éƒ¨ID</td>
                        </tr>
                        <tr>
                            <td>hostname</td>
                            <td>VARCHAR(255)</td>
                            <td>NOT NULL</td>
                            <td>ãƒ›ã‚¹ãƒˆå</td>
                        </tr>
                        <tr>
                            <td>asset_type</td>
                            <td>VARCHAR(50)</td>
                            <td>NOT NULL</td>
                            <td>EC2/RDS/LAMBDA/PC ãªã©</td>
                        </tr>
                        <tr>
                            <td>os_name</td>
                            <td>VARCHAR(100)</td>
                            <td></td>
                            <td>Windows 11 / Ubuntu 22.04</td>
                        </tr>
                        <tr>
                            <td>os_version</td>
                            <td>VARCHAR(50)</td>
                            <td></td>
                            <td>ãƒãƒ¼ã‚¸ãƒ§ãƒ³è©³ç´°</td>
                        </tr>
                        <tr>
                            <td>ip_address</td>
                            <td>VARCHAR(45)</td>
                            <td></td>
                            <td>IPv4/IPv6</td>
                        </tr>
                        <tr>
                            <td>environment</td>
                            <td>VARCHAR(20)</td>
                            <td></td>
                            <td>PROD/STG/DEV</td>
                        </tr>
                        <tr>
                            <td>aws_account_id</td>
                            <td>VARCHAR(20)</td>
                            <td></td>
                            <td>AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDï¼ˆEC2ç­‰ï¼‰</td>
                        </tr>
                        <tr>
                            <td>aws_resource_id</td>
                            <td>VARCHAR(100)</td>
                            <td></td>
                            <td>i-xxxxx / arn:xxx</td>
                        </tr>
                        <tr>
                            <td>last_scanned_at</td>
                            <td>TIMESTAMP</td>
                            <td></td>
                            <td>æœ€çµ‚ã‚¹ã‚­ãƒ£ãƒ³æ—¥æ™‚</td>
                        </tr>
                        <tr>
                            <td>created_at</td>
                            <td>TIMESTAMP</td>
                            <td>DEFAULT NOW()</td>
                            <td>ç™»éŒ²æ—¥æ™‚</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-card-header">
                    ğŸ“¦ asset_softwareï¼ˆè³‡ç”£ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰
                </div>
                <div class="table-card-body">
                    <table>
                        <tr>
                            <th style="width: 25%;">ã‚«ãƒ©ãƒ å</th>
                            <th style="width: 20%;">å‹</th>
                            <th style="width: 15%;">åˆ¶ç´„</th>
                            <th>èª¬æ˜</th>
                        </tr>
                        <tr>
                            <td><span class="pk">id</span></td>
                            <td>SERIAL</td>
                            <td>PK</td>
                            <td>å†…éƒ¨ID</td>
                        </tr>
                        <tr>
                            <td><span class="fk">asset_id</span></td>
                            <td>INTEGER</td>
                            <td>FK, NOT NULL</td>
                            <td>assets.id</td>
                        </tr>
                        <tr>
                            <td>software_name</td>
                            <td>VARCHAR(255)</td>
                            <td>NOT NULL</td>
                            <td>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢å</td>
                        </tr>
                        <tr>
                            <td>version</td>
                            <td>VARCHAR(50)</td>
                            <td></td>
                            <td>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</td>
                        </tr>
                        <tr>
                            <td>cpe</td>
                            <td>VARCHAR(500)</td>
                            <td></td>
                            <td>CPEå½¢å¼ï¼ˆãƒãƒƒãƒãƒ³ã‚°ç”¨ï¼‰</td>
                        </tr>
                        <tr>
                            <td>install_date</td>
                            <td>DATE</td>
                            <td></td>
                            <td>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ—¥</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-card-header">
                    ğŸ”— vulnerability_matchesï¼ˆãƒãƒƒãƒãƒ³ã‚°çµæœï¼‰
                </div>
                <div class="table-card-body">
                    <table>
                        <tr>
                            <th style="width: 25%;">ã‚«ãƒ©ãƒ å</th>
                            <th style="width: 20%;">å‹</th>
                            <th style="width: 15%;">åˆ¶ç´„</th>
                            <th>èª¬æ˜</th>
                        </tr>
                        <tr>
                            <td><span class="pk">id</span></td>
                            <td>SERIAL</td>
                            <td>PK</td>
                            <td>å†…éƒ¨ID</td>
                        </tr>
                        <tr>
                            <td><span class="fk">vulnerability_id</span></td>
                            <td>INTEGER</td>
                            <td>FK, NOT NULL</td>
                            <td>vulnerabilities.id</td>
                        </tr>
                        <tr>
                            <td><span class="fk">asset_id</span></td>
                            <td>INTEGER</td>
                            <td>FK, NOT NULL</td>
                            <td>assets.id</td>
                        </tr>
                        <tr>
                            <td>detected_at</td>
                            <td>TIMESTAMP</td>
                            <td>DEFAULT NOW()</td>
                            <td>æ¤œå‡ºæ—¥æ™‚</td>
                        </tr>
                        <tr>
                            <td>status</td>
                            <td>VARCHAR(20)</td>
                            <td>DEFAULT 'OPEN'</td>
                            <td>OPEN/IN_PROGRESS/RESOLVED/IGNORED</td>
                        </tr>
                        <tr>
                            <td>priority</td>
                            <td>INTEGER</td>
                            <td></td>
                            <td>å¯¾å¿œå„ªå…ˆåº¦ï¼ˆ1ãŒæœ€é«˜ï¼‰</td>
                        </tr>
                        <tr>
                            <td>resolved_at</td>
                            <td>TIMESTAMP</td>
                            <td></td>
                            <td>è§£æ±ºæ—¥æ™‚</td>
                        </tr>
                        <tr>
                            <td>notes</td>
                            <td>TEXT</td>
                            <td></td>
                            <td>å¯¾å¿œãƒ¡ãƒ¢</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- Sprintåˆ¥ã®ä½œæ¥­ -->
        <div class="section">
            <h2>ğŸ“… Sprintåˆ¥ã®DBä½œæ¥­</h2>
            
            <div class="phase-timeline">
                <div class="phase-item">
                    <div class="phase-number">1</div>
                    <div class="phase-content">
                        <h4>Sprint 1ï¼šã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ <span class="core-badge">ã‚³ã‚¢</span></h4>
                        <p>
                            ãƒ»å…¨å“¡ã§ã€Œä½•ã‚’ä¿å­˜ã™ã‚‹ã‹ã€ã‚’è­°è«–ãƒ»ERå›³ã®åˆæ„<br>
                            ãƒ»vulnerabilities, assets, asset_software, vulnerability_matches ã®4ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ<br>
                            ãƒ»Alembicï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ï¼‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—<br>
                            ãƒ»DBæ¥ç¶šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆï¼ˆä»–æ‹…å½“ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ï¼‰
                        </p>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">2</div>
                    <div class="phase-content">
                        <h4>Sprint 2ï¼šAPIé€£æºãƒ»é€šçŸ¥ç³»ã®æ‹¡å¼µ <span class="extend-badge">æ‹¡å¼µ</span></h4>
                        <p>
                            ãƒ»æ‹…å½“Aï¼šã€ŒJVN/NVDã‹ã‚‰ã“ã®ãƒ‡ãƒ¼ã‚¿ãŒæ¥ã‚‹ã€â†’ ã‚«ãƒ©ãƒ è¿½åŠ <br>
                            ãƒ»æ‹…å½“Bï¼šã€ŒPCã‹ã‚‰ã“ã®æƒ…å ±ã‚’åé›†ã™ã‚‹ã€â†’ asset_softwareæ‹¡å¼µ<br>
                            ãƒ»æ‹…å½“Dï¼šã€Œé€šçŸ¥è¨­å®šã‚’DBã«ä¿å­˜ã—ãŸã„ã€â†’ notification_settingsè¿½åŠ 
                        </p>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">3</div>
                    <div class="phase-content">
                        <h4>Sprint 3ï¼šãƒãƒƒãƒãƒ³ã‚°ãƒ»ãƒ¬ãƒãƒ¼ãƒˆç³»ã®æ‹¡å¼µ <span class="extend-badge">æ‹¡å¼µ</span></h4>
                        <p>
                            ãƒ»æ‹…å½“Cï¼šã€Œãƒãƒƒãƒãƒ³ã‚°çµæœã«ã“ã®æƒ…å ±ã‚‚æ¬²ã—ã„ã€â†’ ã‚«ãƒ©ãƒ è¿½åŠ <br>
                            ãƒ»æ‹…å½“Dï¼šã€Œé€šçŸ¥å±¥æ­´ã‚’ä¿å­˜ã—ãŸã„ã€â†’ notification_historyè¿½åŠ <br>
                            ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ï¼ˆæ¤œç´¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼‰
                        </p>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">4</div>
                    <div class="phase-content">
                        <h4>Sprint 4-5ï¼šæœ€é©åŒ–ãƒ»ç›£æŸ»å¯¾å¿œ <span class="future-badge">å°†æ¥</span></h4>
                        <p>
                            ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹èª¿æ•´ã€ã‚¯ã‚¨ãƒªæ”¹å–„ï¼‰<br>
                            ãƒ»remediation_tasksï¼ˆå¯¾ç­–ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼‰è¿½åŠ <br>
                            ãƒ»audit_logsï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰è¿½åŠ ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰<br>
                            ãƒ»DBè¨­è¨ˆæ›¸ã®å®Œæˆ
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="section">
            <h2>ğŸ”„ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆAlembicï¼‰</h2>
            
            <p style="margin-bottom: 16px;">
                ã€Œå¾Œã‹ã‚‰å¤‰æ›´ã§ãã‚‹ã€ä»•çµ„ã¿ãŒé‡è¦ã§ã™ã€‚<strong>Alembic</strong> ã‚’ä½¿ã†ã¨ã€ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã®å±¥æ­´ã‚’ç®¡ç†ã§ãã€ãƒãƒ¼ãƒ å…¨å“¡ãŒåŒã˜DBæ§‹é€ ã‚’ç¶­æŒã§ãã¾ã™ã€‚
            </p>
            
            <h4 style="margin-bottom: 12px;">ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æµã‚Œ</h4>
            <div class="flow-horizontal">
                <div class="flow-step">
                    <div class="flow-icon" style="background: #336791;">ğŸ“</div>
                    <div class="flow-title">å¤‰æ›´ã‚’ã‚³ãƒ¼ãƒ‰ã§è¨˜è¿°</div>
                    <div class="flow-desc">Pythonãƒ•ã‚¡ã‚¤ãƒ«ã§<br>å·®åˆ†ã‚’å®šç¾©</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: #336791;">ğŸ”€</div>
                    <div class="flow-title">Gitã§PR</div>
                    <div class="flow-desc">ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’<br>PRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: #336791;">ğŸš€</div>
                    <div class="flow-title">é©ç”¨</div>
                    <div class="flow-desc">alembic upgrade head<br>ã§å®Ÿè¡Œ</div>
                </div>
            </div>
            
            <h4 style="margin: 20px 0 12px;">ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹</h4>
            <div class="code-block">
<span class="comment"># migrations/versions/001_initial_tables.py</span>

<span class="keyword">from</span> alembic <span class="keyword">import</span> op
<span class="keyword">import</span> sqlalchemy <span class="keyword">as</span> sa

<span class="comment"># revision identifiers</span>
revision = <span class="string">'001'</span>
down_revision = <span class="string">None</span>

<span class="keyword">def</span> <span class="table-name">upgrade</span>():
    <span class="comment"># vulnerabilities ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ</span>
    op.create_table(
        <span class="string">'vulnerabilities'</span>,
        sa.Column(<span class="string">'id'</span>, sa.Integer(), primary_key=<span class="keyword">True</span>),
        sa.Column(<span class="string">'cve_id'</span>, sa.String(<span class="type">20</span>), unique=<span class="keyword">True</span>, nullable=<span class="keyword">False</span>),
        sa.Column(<span class="string">'title'</span>, sa.String(<span class="type">500</span>)),
        sa.Column(<span class="string">'cvss_score'</span>, sa.Numeric(<span class="type">3</span>, <span class="type">1</span>)),
        sa.Column(<span class="string">'created_at'</span>, sa.DateTime(), server_default=sa.func.now()),
    )
    
    <span class="comment"># assets ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ</span>
    op.create_table(
        <span class="string">'assets'</span>,
        sa.Column(<span class="string">'id'</span>, sa.Integer(), primary_key=<span class="keyword">True</span>),
        sa.Column(<span class="string">'hostname'</span>, sa.String(<span class="type">255</span>), nullable=<span class="keyword">False</span>),
        sa.Column(<span class="string">'asset_type'</span>, sa.String(<span class="type">50</span>), nullable=<span class="keyword">False</span>),
        <span class="comment"># ... ä»–ã®ã‚«ãƒ©ãƒ </span>
    )

<span class="keyword">def</span> <span class="table-name">downgrade</span>():
    op.drop_table(<span class="string">'assets'</span>)
    op.drop_table(<span class="string">'vulnerabilities'</span>)
            </div>
            
            <h4 style="margin: 20px 0 12px;">Sprint 2 ã§ã‚«ãƒ©ãƒ è¿½åŠ ã™ã‚‹ä¾‹</h4>
            <div class="code-block">
<span class="comment"># migrations/versions/002_add_notification.py</span>

revision = <span class="string">'002'</span>
down_revision = <span class="string">'001'</span>

<span class="keyword">def</span> <span class="table-name">upgrade</span>():
    <span class="comment"># é€šçŸ¥è¨­å®šãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ </span>
    op.create_table(
        <span class="string">'notification_settings'</span>,
        sa.Column(<span class="string">'id'</span>, sa.Integer(), primary_key=<span class="keyword">True</span>),
        sa.Column(<span class="string">'channel'</span>, sa.String(<span class="type">20</span>)),  <span class="comment"># email/slack</span>
        sa.Column(<span class="string">'severity_threshold'</span>, sa.String(<span class="type">20</span>)),
        sa.Column(<span class="string">'enabled'</span>, sa.Boolean(), default=<span class="keyword">True</span>),
    )
    
    <span class="comment"># æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚«ãƒ©ãƒ è¿½åŠ </span>
    op.add_column(
        <span class="string">'vulnerabilities'</span>,
        sa.Column(<span class="string">'jvn_id'</span>, sa.String(<span class="type">20</span>))  <span class="comment"># JVNç‹¬è‡ªID</span>
    )
            </div>
            
            <div class="callout">
                ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚Gitã§ç®¡ç†ã•ã‚Œã‚‹ãŸã‚ã€ã€Œèª°ãŒãƒ»ã„ã¤ãƒ»ã©ã‚“ãªå¤‰æ›´ã‚’ã—ãŸã‹ã€ãŒè¿½è·¡å¯èƒ½
            </div>
        </div>

        <!-- æ‹…å½“é–“é€£æº -->
        <div class="section">
            <h2>ğŸ¤ æ‹…å½“é–“ã®é€£æºæ–¹æ³•</h2>
            
            <div class="er-diagram" style="height: auto; padding: 20px;">
                <svg viewBox="0 0 700 250" style="width: 100%; height: 250px;">
                    <!-- æ‹…å½“A -->
                    <rect x="30" y="30" width="120" height="60" rx="6" fill="#ddf4ff" stroke="#0969da" stroke-width="2"/>
                    <text x="90" y="55" text-anchor="middle" font-size="12" font-weight="bold" fill="#0969da">æ‹…å½“A</text>
                    <text x="90" y="75" text-anchor="middle" font-size="10" fill="#24292f">APIé€£æº</text>
                    
                    <!-- æ‹…å½“C -->
                    <rect x="30" y="160" width="120" height="60" rx="6" fill="#fbefff" stroke="#8250df" stroke-width="2"/>
                    <text x="90" y="185" text-anchor="middle" font-size="12" font-weight="bold" fill="#8250df">æ‹…å½“C</text>
                    <text x="90" y="205" text-anchor="middle" font-size="10" fill="#24292f">ãƒãƒƒãƒãƒ³ã‚°</text>
                    
                    <!-- æ‹…å½“Bï¼ˆä¸­å¤®ï¼‰ -->
                    <rect x="280" y="80" width="140" height="90" rx="6" fill="#dafbe1" stroke="#2da44e" stroke-width="2"/>
                    <text x="350" y="110" text-anchor="middle" font-size="14" font-weight="bold" fill="#1a7f37">æ‹…å½“B</text>
                    <text x="350" y="130" text-anchor="middle" font-size="11" fill="#24292f">DBè¨­è¨ˆ</text>
                    <text x="350" y="150" text-anchor="middle" font-size="10" fill="#57606a">ã‚¹ã‚­ãƒ¼ãƒç®¡ç†</text>
                    
                    <!-- æ‹…å½“D -->
                    <rect x="550" y="30" width="120" height="60" rx="6" fill="#fff8c5" stroke="#d4a72c" stroke-width="2"/>
                    <text x="610" y="55" text-anchor="middle" font-size="12" font-weight="bold" fill="#9a6700">æ‹…å½“D</text>
                    <text x="610" y="75" text-anchor="middle" font-size="10" fill="#24292f">é€šçŸ¥ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ</text>
                    
                    <!-- æ‹…å½“E -->
                    <rect x="550" y="160" width="120" height="60" rx="6" fill="#ffebe9" stroke="#cf222e" stroke-width="2"/>
                    <text x="610" y="185" text-anchor="middle" font-size="12" font-weight="bold" fill="#cf222e">æ‹…å½“E</text>
                    <text x="610" y="205" text-anchor="middle" font-size="10" fill="#24292f">UIãƒ»çµ±åˆ</text>
                    
                    <!-- çŸ¢å°ã¨å¹ãå‡ºã— -->
                    <line x1="150" y1="60" x2="280" y2="100" stroke="#8c959f" stroke-width="2" marker-end="url(#arrow2)"/>
                    <text x="180" y="65" font-size="9" fill="#57606a">ã€Œã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’</text>
                    <text x="180" y="78" font-size="9" fill="#57606a">ä¿å­˜ã—ãŸã„ã€</text>
                    
                    <line x1="150" y1="190" x2="280" y2="150" stroke="#8c959f" stroke-width="2" marker-end="url(#arrow2)"/>
                    <text x="170" y="185" font-size="9" fill="#57606a">ã€Œã“ã®é …ç›®ãŒ</text>
                    <text x="170" y="198" font-size="9" fill="#57606a">å¿…è¦ã€</text>
                    
                    <line x1="420" y1="100" x2="550" y2="60" stroke="#8c959f" stroke-width="2" marker-end="url(#arrow2)"/>
                    <text x="460" y="65" font-size="9" fill="#57606a">ã€Œé€šçŸ¥è¨­å®š</text>
                    <text x="460" y="78" font-size="9" fill="#57606a">ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ã€</text>
                    
                    <line x1="420" y1="150" x2="550" y2="190" stroke="#8c959f" stroke-width="2" marker-end="url(#arrow2)"/>
                    <text x="455" y="185" font-size="9" fill="#57606a">ã€ŒAPIã§ä½¿ãˆã‚‹</text>
                    <text x="455" y="198" font-size="9" fill="#57606a">ã‚¯ã‚¨ãƒªç”¨æ„ã€</text>
                    
                    <defs>
                        <marker id="arrow2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#8c959f"/>
                        </marker>
                    </defs>
                </svg>
            </div>
            
            <h4 style="margin: 20px 0 12px;">é€£æºã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°</h4>
            <table>
                <tr>
                    <th style="width: 25%;">ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
                    <th>å†…å®¹</th>
                </tr>
                <tr>
                    <td><strong>é€±æ¬¡ãƒŠãƒ¬ãƒƒã‚¸å…±æœ‰ä¼š</strong></td>
                    <td>å„æ‹…å½“ãŒã€Œå¿…è¦ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€ã‚’å…±æœ‰ã€‚æ‹…å½“BãŒDBè¨­è¨ˆã«åæ˜ </td>
                </tr>
                <tr>
                    <td><strong>PRæ™‚</strong></td>
                    <td>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’PRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‚å½±éŸ¿ç¯„å›²ã‚’ç¢ºèª</td>
                </tr>
                <tr>
                    <td><strong>Slack/Issue</strong></td>
                    <td>ã€Œã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã“ã®ã‚«ãƒ©ãƒ è¿½åŠ ã—ã¦ã»ã—ã„ã€ã‚’éšæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</td>
                </tr>
            </table>
            
            <div class="recommend-box">
                <h4>âœ… æ‹…å½“Bã®å½¹å‰²</h4>
                <ul>
                    <li>ä»–æ‹…å½“ã‹ã‚‰ã®è¦æœ›ã‚’å—ã‘ã¦ã€é©åˆ‡ãªãƒ†ãƒ¼ãƒ–ãƒ«/ã‚«ãƒ©ãƒ è¨­è¨ˆã‚’è¡Œã†</li>
                    <li>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€PRã‚’å‡ºã™</li>
                    <li>DBæ¥ç¶šç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ©ã‚¹/é–¢æ•°ã‚’æä¾›ã™ã‚‹</li>
                    <li>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ</li>
                </ul>
            </div>
        </div>

        <!-- DBæ¥ç¶šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« -->
        <div class="section">
            <h2>ğŸ”Œ DBæ¥ç¶šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆä»–æ‹…å½“å‘ã‘ï¼‰</h2>
            
            <p style="margin-bottom: 16px;">æ‹…å½“Bã¯ã€ä»–ã®æ‹…å½“ãŒDBã‚’æ“ä½œã—ã‚„ã™ã„ã‚ˆã†ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æä¾›ã—ã¾ã™ã€‚</p>
            
            <div class="code-block">
<span class="comment"># db/connection.py - DBæ¥ç¶šã®åŸºæœ¬è¨­å®š</span>

<span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine
<span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker

DATABASE_URL = <span class="string">"postgresql://user:password@localhost/vulndb"</span>

engine = create_engine(DATABASE_URL)
SessionLocal = sessionmaker(bind=engine)

<span class="keyword">def</span> <span class="table-name">get_db</span>():
    <span class="string">"""DBã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å–å¾—"""</span>
    db = SessionLocal()
    <span class="keyword">try</span>:
        <span class="keyword">yield</span> db
    <span class="keyword">finally</span>:
        db.close()
            </div>
            
            <div class="code-block">
<span class="comment"># db/repositories/vulnerability_repository.py</span>
<span class="comment"># æ‹…å½“Aï¼ˆAPIé€£æºï¼‰ãŒä½¿ã†ãƒªãƒã‚¸ãƒˆãƒª</span>

<span class="keyword">class</span> <span class="table-name">VulnerabilityRepository</span>:
    <span class="keyword">def</span> __init__(self, db):
        self.db = db
    
    <span class="keyword">def</span> <span class="table-name">upsert</span>(self, cve_id: str, data: dict):
        <span class="string">"""è„†å¼±æ€§æƒ…å ±ã‚’ç™»éŒ²/æ›´æ–°"""</span>
        <span class="comment"># æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Œã°æ›´æ–°ã€ãªã‘ã‚Œã°æŒ¿å…¥</span>
        ...
    
    <span class="keyword">def</span> <span class="table-name">find_by_cve_id</span>(self, cve_id: str):
        <span class="string">"""CVE IDã§æ¤œç´¢"""</span>
        ...
    
    <span class="keyword">def</span> <span class="table-name">find_recent</span>(self, days: int = 7):
        <span class="string">"""ç›´è¿‘Næ—¥é–“ã®è„†å¼±æ€§ã‚’å–å¾—"""</span>
        ...
            </div>
            
            <div class="code-block">
<span class="comment"># db/repositories/asset_repository.py</span>
<span class="comment"># æ‹…å½“Bè‡ªèº« + æ‹…å½“EãŒä½¿ã†ãƒªãƒã‚¸ãƒˆãƒª</span>

<span class="keyword">class</span> <span class="table-name">AssetRepository</span>:
    <span class="keyword">def</span> <span class="table-name">register_from_aws</span>(self, aws_data: dict):
        <span class="string">"""AWSã‹ã‚‰å–å¾—ã—ãŸè³‡ç”£æƒ…å ±ã‚’ç™»éŒ²"""</span>
        ...
    
    <span class="keyword">def</span> <span class="table-name">register_from_pc</span>(self, pc_data: dict):
        <span class="string">"""ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯PCã®æƒ…å ±ã‚’ç™»éŒ²"""</span>
        ...
    
    <span class="keyword">def</span> <span class="table-name">get_all_with_software</span>(self):
        <span class="string">"""è³‡ç”£ä¸€è¦§ï¼ˆã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢æƒ…å ±å«ã‚€ï¼‰"""</span>
        ...
            </div>
            
            <div class="point-box">
                <h4>ä»–æ‹…å½“ã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½¿ã†ã ã‘</h4>
                <ul>
                    <li>æ‹…å½“Aï¼š<code>VulnerabilityRepository.upsert()</code> ã§è„†å¼±æ€§ã‚’ä¿å­˜</li>
                    <li>æ‹…å½“Cï¼š<code>VulnerabilityRepository</code> + <code>AssetRepository</code> ã§ãƒãƒƒãƒãƒ³ã‚°</li>
                    <li>æ‹…å½“Dï¼š<code>NotificationRepository</code> ã§é€šçŸ¥å±¥æ­´ã‚’ä¿å­˜</li>
                    <li>æ‹…å½“Eï¼šå„ãƒªãƒã‚¸ãƒˆãƒªã® <code>find_*</code> ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º</li>
                </ul>
            </div>
        </div>

        <!-- Sprint 1 ã®å…·ä½“çš„ãªä½œæ¥­ -->
        <div class="section">
            <h2>ğŸ¯ Sprint 1 ã§ã®å…·ä½“çš„ãªä½œæ¥­</h2>
            
            <table>
                <tr>
                    <th style="width: 15%;">æ—¥ç¨‹</th>
                    <th style="width: 35%;">ä½œæ¥­</th>
                    <th>æˆæœç‰©</th>
                </tr>
                <tr>
                    <td>Week 1 å‰åŠ</td>
                    <td>å…¨å“¡ã§ERå›³ã®åˆæ„ï¼ˆã‚­ãƒƒã‚¯ã‚ªãƒ•ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰</td>
                    <td>ERå›³ï¼ˆç¢ºå®šç‰ˆï¼‰</td>
                </tr>
                <tr>
                    <td>Week 1 å¾ŒåŠ</td>
                    <td>PostgreSQLç’°å¢ƒæ§‹ç¯‰ã€Alembicã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</td>
                    <td>é–‹ç™ºDBç’°å¢ƒ</td>
                </tr>
                <tr>
                    <td>Week 2 å‰åŠ</td>
                    <td>ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«4ã¤ã®ä½œæˆï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰</td>
                    <td>001_initial_tables.py</td>
                </tr>
                <tr>
                    <td>Week 2 å¾ŒåŠ</td>
                    <td>DBæ¥ç¶šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€åŸºæœ¬ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ</td>
                    <td>db/connection.py, repositories/</td>
                </tr>
            </table>
            
            <div class="callout">
                Sprint 1 çµ‚äº†æ™‚ç‚¹ã§ã€ä»–æ‹…å½“ãŒã€ŒDBã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜/å–å¾—ã§ãã‚‹ã€çŠ¶æ…‹ã‚’ç›®æŒ‡ã™
            </div>
        </div>

        <!-- ã¾ã¨ã‚ -->
        <div class="section">
            <h2>ğŸ“ ã¾ã¨ã‚</h2>
            
            <table>
                <tr>
                    <th style="width: 25%;">ãƒã‚¤ãƒ³ãƒˆ</th>
                    <th>å†…å®¹</th>
                </tr>
                <tr>
                    <td><strong>æ®µéšçš„ã«ä½œã‚‹</strong></td>
                    <td>å…¨ä»•æ§˜ã‚’å¾…ãŸãšã€ã‚³ã‚¢éƒ¨åˆ†ï¼ˆè„†å¼±æ€§ãƒ»è³‡ç”£ãƒ»ãƒãƒƒãƒãƒ³ã‚°ï¼‰ã‹ã‚‰ä½œæˆ</td>
                </tr>
                <tr>
                    <td><strong>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ç®¡ç†</strong></td>
                    <td>Alembicã§å¤‰æ›´å±¥æ­´ã‚’ç®¡ç†ã€‚å¾Œã‹ã‚‰ã‚«ãƒ©ãƒ è¿½åŠ ãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ãŒå®¹æ˜“</td>
                </tr>
                <tr>
                    <td><strong>æ‹…å½“é–“ã§é€£æº</strong></td>
                    <td>é€±æ¬¡å…±æœ‰ä¼šã§è¦ä»¶ã‚’åé›†ã—ã€DBè¨­è¨ˆã«åæ˜ </td>
                </tr>
                <tr>
                    <td><strong>ãƒªãƒã‚¸ãƒˆãƒªã‚’æä¾›</strong></td>
                    <td>ä»–æ‹…å½“ãŒDBã‚’ç›´æ¥è§¦ã‚‰ãªãã¦æ¸ˆã‚€ã‚ˆã†ã€ä½¿ã„ã‚„ã™ã„APIã‚’æä¾›</td>
                </tr>
            </table>
            
            <div class="recommend-box">
                <h4>âœ… æ‹…å½“Bã®ä¸»ãªæˆæœç‰©</h4>
                <ul>
                    <li><strong>Sprint 1</strong>ï¼šERå›³ã€ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ã€DBæ¥ç¶šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</li>
                    <li><strong>Sprint 2-3</strong>ï¼šæ‹¡å¼µãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆé€šçŸ¥ã€å±¥æ­´ç­‰ï¼‰ã€ãƒªãƒã‚¸ãƒˆãƒªæ‹¡å……</li>
                    <li><strong>Sprint 4-5</strong>ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–ã€DBè¨­è¨ˆæ›¸</li>
                </ul>
            </div>
        </div>

        <div style="text-align: center; color: #57606a; margin-top: 30px; padding: 20px;">
            <p>è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒãƒ¼ãƒ å‘ã‘è³‡æ–™</p>
        </div>
    </div>
</body>
</html>
