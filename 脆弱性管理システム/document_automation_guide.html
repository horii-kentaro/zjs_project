<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: #f6f8fa;
            color: #24292f;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #24292f;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            text-align: center;
            color: #57606a;
            margin-bottom: 30px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .section h2 {
            color: #24292f;
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #8250df;
        }
        .section h2.fastapi { border-bottom-color: #009688; }
        .section h2.mkdocs { border-bottom-color: #2196f3; }
        .section h2.ai { border-bottom-color: #d97706; }
        .section h2.cicd { border-bottom-color: #2da44e; }
        .section h2.mermaid { border-bottom-color: #ff6b6b; }
        .section h3 {
            color: #24292f;
            font-size: 16px;
            margin: 24px 0 12px;
        }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #d0d7de;
        }
        th {
            background: #f6f8fa;
            font-weight: 600;
        }
        
        /* ãƒœãƒƒã‚¯ã‚¹é¡ */
        .point-box {
            background: #ddf4ff;
            border: 1px solid #54aeff;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .point-box h4 {
            color: #0969da;
            margin-bottom: 8px;
        }
        .point-box ul, .point-box ol {
            margin-left: 20px;
        }
        .point-box li {
            margin: 4px 0;
        }
        
        .callout {
            background: #fff8c5;
            border: 1px solid #d4a72c;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-size: 14px;
        }
        .callout::before {
            content: "ğŸ’¡";
            margin-right: 8px;
        }
        
        .recommend-box {
            background: #dafbe1;
            border: 1px solid #2da44e;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .recommend-box h4 {
            color: #1a7f37;
            margin-bottom: 8px;
        }
        
        .warning-box {
            background: #ffebe9;
            border: 1px solid #ff8182;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .warning-box h4 {
            color: #cf222e;
            margin-bottom: 8px;
        }
        
        .ai-box {
            background: #fef3c7;
            border: 2px solid #d97706;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .ai-box h4 {
            color: #d97706;
            margin-bottom: 8px;
        }
        .ai-box h4::before {
            content: "ğŸ¤– ";
        }
        
        /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ */
        .code-block {
            background: #24292f;
            color: #e6edf3;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 16px 0;
            line-height: 1.5;
        }
        .code-block .comment {
            color: #8b949e;
        }
        .code-block .keyword {
            color: #ff7b72;
        }
        .code-block .string {
            color: #a5d6ff;
        }
        .code-block .function {
            color: #d2a8ff;
        }
        .code-block .number {
            color: #79c0ff;
        }
        .code-block .decorator {
            color: #ffa657;
        }
        .code-block .class {
            color: #7ee787;
        }
        .code-block .builtin {
            color: #79c0ff;
        }
        
        .command-block {
            background: #1e1e2e;
            border-left: 4px solid #8250df;
            color: #cdd6f4;
            padding: 16px;
            border-radius: 0 8px 8px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            margin: 16px 0;
        }
        .command-block .prompt {
            color: #a6e3a1;
        }
        .command-block .output {
            color: #6c7086;
        }
        
        code {
            background: #f6f8fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 12px;
        }
        
        /* ãƒ•ãƒ­ãƒ¼å›³ */
        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .flow-step {
            background: white;
            border: 2px solid #d0d7de;
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
            min-width: 100px;
        }
        .flow-step.code { background: #f6f8fa; border-color: #57606a; }
        .flow-step.auto { background: #ddf4ff; border-color: #0969da; }
        .flow-step.ai { background: #fef3c7; border-color: #d97706; }
        .flow-step.output { background: #dafbe1; border-color: #2da44e; }
        .flow-arrow {
            font-size: 20px;
            color: #57606a;
        }
        
        /* ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ */
        .architecture {
            background: #f6f8fa;
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
        }
        .arch-row {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin: 16px 0;
            flex-wrap: wrap;
        }
        .arch-box {
            background: white;
            border: 2px solid #d0d7de;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            min-width: 150px;
        }
        .arch-box.source { border-color: #57606a; }
        .arch-box.tool { border-color: #0969da; background: #ddf4ff; }
        .arch-box.ai { border-color: #d97706; background: #fef3c7; }
        .arch-box.output { border-color: #2da44e; background: #dafbe1; }
        .arch-box h5 {
            margin-bottom: 8px;
        }
        .arch-arrow {
            text-align: center;
            font-size: 24px;
            color: #57606a;
        }
        
        /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */
        .preview-container {
            background: #1e1e2e;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
        }
        .preview-header {
            background: #313244;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .preview-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .preview-dot.red { background: #f38ba8; }
        .preview-dot.yellow { background: #f9e2af; }
        .preview-dot.green { background: #a6e3a1; }
        .preview-title {
            color: #cdd6f4;
            margin-left: 8px;
            font-size: 13px;
        }
        .preview-body {
            padding: 20px;
            color: #cdd6f4;
        }
        
        /* Swagger UIé¢¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */
        .swagger-preview {
            background: white;
            border: 1px solid #d0d7de;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        .swagger-header {
            background: #1b1b1b;
            color: white;
            padding: 16px;
        }
        .swagger-header h3 {
            color: #89bf04;
            margin: 0;
        }
        .swagger-body {
            padding: 16px;
        }
        .swagger-endpoint {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 1px solid #d0d7de;
            border-radius: 4px;
            margin: 8px 0;
            cursor: pointer;
        }
        .swagger-method {
            padding: 4px 12px;
            border-radius: 4px;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        .swagger-method.get { background: #61affe; }
        .swagger-method.post { background: #49cc90; }
        .swagger-method.put { background: #fca130; }
        .swagger-method.delete { background: #f93e3e; }
        .swagger-path {
            font-family: monospace;
            font-size: 14px;
        }
        .swagger-desc {
            color: #57606a;
            font-size: 13px;
            margin-left: auto;
        }
        
        /* ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ */
        .file-tree {
            background: #f6f8fa;
            border-radius: 8px;
            padding: 16px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
        }
        .file-tree .folder { color: #0969da; }
        .file-tree .file { color: #24292f; }
        .file-tree .comment { color: #57606a; }
        .file-tree .new { color: #2da44e; font-weight: bold; }

        @media (max-width: 768px) {
            .arch-row {
                flex-direction: column;
                align-items: center;
            }
        }

        @media print {
            body { background: white; }
            .section { box-shadow: none; border: 1px solid #ddd; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰</h1>
        <p class="subtitle">ç„¡æ–™ãƒ„ãƒ¼ãƒ« + Claude APIã§å®Ÿç¾ã™ã‚‹åŠ¹ç‡çš„ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†</p>

        <!-- ã‚³ã‚¹ãƒˆæ¦‚è¦ -->
        <div class="section">
            <h2>ğŸ’° ã‚³ã‚¹ãƒˆã¨å¿…è¦ãªå¥‘ç´„</h2>
            
            <p style="margin-bottom: 20px;">
                æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã¯ã€<strong>ç„¡æ–™ãƒ„ãƒ¼ãƒ« + Claude API</strong>ã§å®Ÿç¾ã§ãã¾ã™ã€‚<br>
                OpenAI APIã‚„GitHub Copilotã¯ä¸è¦ã§ã™ã€‚
            </p>
            
            <h3>ãƒ„ãƒ¼ãƒ«åˆ¥ã‚³ã‚¹ãƒˆä¸€è¦§</h3>
            <table>
                <tr>
                    <th>ãƒ„ãƒ¼ãƒ«</th>
                    <th>è²»ç”¨</th>
                    <th>æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åˆ©ç”¨</th>
                </tr>
                <tr>
                    <td><strong>FastAPI OpenAPI</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™</td>
                    <td>FastAPIã®æ¨™æº–æ©Ÿèƒ½</td>
                </tr>
                <tr>
                    <td><strong>MkDocs / mkdocstrings</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™</td>
                    <td>ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹</td>
                </tr>
                <tr>
                    <td><strong>Mermaid</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™</td>
                    <td>ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹</td>
                </tr>
                <tr>
                    <td><strong>GitHub Actions</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™æ ã‚ã‚Š</td>
                    <td>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼šæœˆ2,000åˆ†ç„¡æ–™</td>
                </tr>
                <tr>
                    <td><strong>GitHub Pages</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™</td>
                    <td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆå…¬é–‹</td>
                </tr>
                <tr>
                    <td><strong>Conventional Commits</strong></td>
                    <td style="color: #1a7f37;">âœ… ç„¡æ–™</td>
                    <td>ã‚³ãƒŸãƒƒãƒˆãƒ«ãƒ¼ãƒ«ã«å¾“ã†ã ã‘</td>
                </tr>
                <tr>
                    <td><strong>Claude API</strong></td>
                    <td style="color: #0969da;">âœ… å¥‘ç´„æ¸ˆã¿</td>
                    <td>PRèª¬æ˜æ–‡ãƒ»READMEãƒ»docstringç”Ÿæˆ</td>
                </tr>
                <tr>
                    <td><span style="color: #57606a;">OpenAI API</span></td>
                    <td style="color: #57606a;">ï¼</td>
                    <td style="color: #57606a;">ä¸è¦ï¼ˆClaude APIã§ä»£æ›¿ï¼‰</td>
                </tr>
                <tr>
                    <td><span style="color: #57606a;">GitHub Copilot</span></td>
                    <td style="color: #57606a;">ï¼</td>
                    <td style="color: #57606a;">ä¸è¦ï¼ˆClaude.aiã§å¯¾å¿œå¯èƒ½ï¼‰</td>
                </tr>
            </table>
            
            <div class="recommend-box">
                <h4>âœ… æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆ</h4>
                <div style="display: flex; gap: 20px; flex-wrap: wrap; margin-top: 12px;">
                    <div style="flex: 1; min-width: 200px;">
                        <strong>ç„¡æ–™ãƒ„ãƒ¼ãƒ«ï¼ˆ80%ã‚«ãƒãƒ¼ï¼‰</strong>
                        <ul style="margin: 8px 0 0 20px;">
                            <li>FastAPI OpenAPI</li>
                            <li>MkDocs + mkdocstrings</li>
                            <li>Mermaid</li>
                            <li>Conventional Commits</li>
                            <li>GitHub Actions / Pages</li>
                        </ul>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <strong>Claude APIï¼ˆå¥‘ç´„æ¸ˆã¿ï¼‰</strong>
                        <ul style="margin: 8px 0 0 20px;">
                            <li>PRèª¬æ˜æ–‡è‡ªå‹•ç”Ÿæˆ</li>
                            <li>READMEè‡ªå‹•ç”Ÿæˆ</li>
                            <li>docstringè‡ªå‹•ç”Ÿæˆ</li>
                            <li>ã‚³ãƒ¼ãƒ‰è£œå®Œï¼ˆClaude.aiï¼‰</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="callout">
                AIç”Ÿæˆæ©Ÿèƒ½ã¯ã™ã¹ã¦<strong>Claude API</strong>ã§å®Ÿè£…ã—ã¾ã™ã€‚OpenAI APIã‚„GitHub Copilotã®å¥‘ç´„ã¯ä¸è¦ã§ã™ã€‚
            </div>
        </div>

        <!-- æ¦‚è¦ -->
        <div class="section">
            <h2>ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã®å…¨ä½“åƒ</h2>
            
            <p style="margin-bottom: 20px;">
                æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€<strong>ç„¡æ–™ãƒ„ãƒ¼ãƒ« + Claude API</strong>ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®è² æ‹…ã‚’æœ€å°åŒ–ã—ã¾ã™ã€‚
            </p>
            
            <div class="architecture">
                <div class="arch-row">
                    <div class="arch-box source">
                        <h5>ğŸ“ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</h5>
                        <small>Python / TypeScript</small>
                    </div>
                    <div class="arch-box source">
                        <h5>ğŸ’¬ Docstring</h5>
                        <small>é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ã®èª¬æ˜</small>
                    </div>
                    <div class="arch-box source">
                        <h5>ğŸ“Š Gitå±¥æ­´</h5>
                        <small>ã‚³ãƒŸãƒƒãƒˆãƒ»PR</small>
                    </div>
                </div>
                
                <div class="arch-arrow">â†“</div>
                
                <div class="arch-row">
                    <div class="arch-box tool">
                        <h5>ğŸ”§ FastAPI</h5>
                        <small>OpenAPIè‡ªå‹•ç”Ÿæˆ</small>
                    </div>
                    <div class="arch-box tool">
                        <h5>ğŸ“š MkDocs</h5>
                        <small>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆ</small>
                    </div>
                    <div class="arch-box ai">
                        <h5>ğŸ¤– Claude API</h5>
                        <small>AIèª¬æ˜æ–‡ç”Ÿæˆ</small>
                    </div>
                </div>
                
                <div class="arch-arrow">â†“</div>
                
                <div class="arch-row">
                    <div class="arch-box output">
                        <h5>ğŸ“„ APIä»•æ§˜æ›¸</h5>
                        <small>Swagger UI</small>
                    </div>
                    <div class="arch-box output">
                        <h5>ğŸŒ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆ</h5>
                        <small>GitHub Pages</small>
                    </div>
                    <div class="arch-box output">
                        <h5>ğŸ“‹ PRèª¬æ˜ãƒ»README</h5>
                        <small>è‡ªå‹•ç”Ÿæˆ</small>
                    </div>
                </div>
            </div>
            
            <h3>è‡ªå‹•åŒ–ã§ãã‚‹ã‚‚ã®</h3>
            <table>
                <tr>
                    <th>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</th>
                    <th>è‡ªå‹•åŒ–æ–¹æ³•</th>
                    <th>ãƒ„ãƒ¼ãƒ«</th>
                    <th>åŠ¹æœ</th>
                </tr>
                <tr>
                    <td><strong>APIä»•æ§˜æ›¸</strong></td>
                    <td>ã‚³ãƒ¼ãƒ‰ã‹ã‚‰è‡ªå‹•ç”Ÿæˆ</td>
                    <td>FastAPI OpenAPI</td>
                    <td>â­â­â­ å³åº§ã«æœ€æ–°ã®ä»•æ§˜æ›¸</td>
                </tr>
                <tr>
                    <td><strong>é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹èª¬æ˜</strong></td>
                    <td>docstringã‹ã‚‰ç”Ÿæˆ</td>
                    <td>MkDocs + mkdocstrings</td>
                    <td>â­â­â­ å¸¸ã«ã‚³ãƒ¼ãƒ‰ã¨åŒæœŸ</td>
                </tr>
                <tr>
                    <td><strong>PRèª¬æ˜æ–‡</strong></td>
                    <td>å·®åˆ†ã‹ã‚‰AIç”Ÿæˆ</td>
                    <td>Claude API + GitHub Actions</td>
                    <td>â­â­ ãƒ¬ãƒ“ãƒ¥ãƒ¼åŠ¹ç‡UP</td>
                </tr>
                <tr>
                    <td><strong>README</strong></td>
                    <td>AIã§è‡ªå‹•ç”Ÿæˆ</td>
                    <td>Claude API</td>
                    <td>â­â­ åˆæœŸä½œæˆã®åŠ¹ç‡åŒ–</td>
                </tr>
                <tr>
                    <td><strong>å¤‰æ›´å±¥æ­´</strong></td>
                    <td>ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰ç”Ÿæˆ</td>
                    <td>Conventional Commits</td>
                    <td>â­â­ ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­è»½æ¸›</td>
                </tr>
                <tr>
                    <td><strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</strong></td>
                    <td>ã‚³ãƒ¼ãƒ‰ã§è¨˜è¿°</td>
                    <td>Mermaid</td>
                    <td>â­â­ å›³ã®æ›´æ–°ãŒç°¡å˜</td>
                </tr>
            </table>
        </div>

        <!-- FastAPI OpenAPI -->
        <div class="section">
            <h2 class="fastapi">ğŸš€ 1. FastAPI OpenAPIï¼ˆAPIä»•æ§˜æ›¸è‡ªå‹•ç”Ÿæˆï¼‰</h2>
            
            <p style="margin-bottom: 20px;">
                FastAPIã¯<strong>ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã ã‘ã§APIä»•æ§˜æ›¸ãŒè‡ªå‹•ç”Ÿæˆ</strong>ã•ã‚Œã¾ã™ã€‚<br>
                è¿½åŠ ä½œæ¥­ãªã—ã§ã€å¸¸ã«æœ€æ–°ã®ä»•æ§˜æ›¸ãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚
            </p>
            
            <h3>ä»•çµ„ã¿</h3>
            <div class="flow-container">
                <div class="flow-step code">
                    ğŸ“ FastAPIã‚³ãƒ¼ãƒ‰<br>
                    <small>å‹ãƒ’ãƒ³ãƒˆ + docstring</small>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step auto">
                    âš™ï¸ è‡ªå‹•è§£æ<br>
                    <small>OpenAPIç”Ÿæˆ</small>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step output">
                    ğŸ“„ Swagger UI<br>
                    <small>/docs ã§ã‚¢ã‚¯ã‚»ã‚¹</small>
                </div>
            </div>
            
            <h3>å®Ÿè£…ä¾‹ï¼ˆè„†å¼±æ€§APIï¼‰</h3>
            <div class="code-block">
<span class="comment"># app/routers/vulnerabilities.py</span>
<span class="keyword">from</span> fastapi <span class="keyword">import</span> APIRouter, Query, Path, HTTPException
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Optional
<span class="keyword">from</span> app.schemas <span class="keyword">import</span> VulnerabilityResponse, VulnerabilityCreate

router = APIRouter(
    prefix=<span class="string">"/api/vulnerabilities"</span>,
    tags=[<span class="string">"è„†å¼±æ€§ç®¡ç†"</span>]  <span class="comment"># Swagger UIã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</span>
)


<span class="decorator">@router.get</span>(
    <span class="string">"/"</span>,
    response_model=List[VulnerabilityResponse],
    summary=<span class="string">"è„†å¼±æ€§ä¸€è¦§ã‚’å–å¾—"</span>,
    description=<span class="string">"""
    è„†å¼±æ€§ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚
    
    - **severity**: é‡è¦åº¦ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆCritical, High, Medium, Lowï¼‰
    - **status**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆopen, in_progress, resolvedï¼‰
    - **is_kev**: KEVï¼ˆæ‚ªç”¨ç¢ºèªæ¸ˆã¿ï¼‰ã®ã¿å–å¾—
    """</span>
)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">get_vulnerabilities</span>(
    severity: Optional[<span class="builtin">str</span>] = Query(
        <span class="keyword">None</span>,
        description=<span class="string">"é‡è¦åº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼"</span>,
        example=<span class="string">"Critical"</span>
    ),
    status: Optional[<span class="builtin">str</span>] = Query(
        <span class="keyword">None</span>,
        description=<span class="string">"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼"</span>,
        example=<span class="string">"open"</span>
    ),
    is_kev: Optional[<span class="builtin">bool</span>] = Query(
        <span class="keyword">None</span>,
        description=<span class="string">"KEVã®ã¿å–å¾—"</span>
    ),
    page: <span class="builtin">int</span> = Query(<span class="number">1</span>, ge=<span class="number">1</span>, description=<span class="string">"ãƒšãƒ¼ã‚¸ç•ªå·"</span>),
    per_page: <span class="builtin">int</span> = Query(<span class="number">20</span>, ge=<span class="number">1</span>, le=<span class="number">100</span>, description=<span class="string">"1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°"</span>)
):
    <span class="string">"""è„†å¼±æ€§ä¸€è¦§ã‚’å–å¾—"""</span>
    ...


<span class="decorator">@router.get</span>(
    <span class="string">"/{cve_id}"</span>,
    response_model=VulnerabilityResponse,
    summary=<span class="string">"è„†å¼±æ€§è©³ç´°ã‚’å–å¾—"</span>,
    responses={
        <span class="number">404</span>: {<span class="string">"description"</span>: <span class="string">"è„†å¼±æ€§ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"</span>}
    }
)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">get_vulnerability</span>(
    cve_id: <span class="builtin">str</span> = Path(
        ...,
        description=<span class="string">"CVE ID"</span>,
        example=<span class="string">"CVE-2024-1234"</span>
    )
):
    <span class="string">"""æŒ‡å®šã—ãŸCVE IDã®è„†å¼±æ€§è©³ç´°ã‚’å–å¾—"""</span>
    ...


<span class="decorator">@router.post</span>(
    <span class="string">"/"</span>,
    response_model=VulnerabilityResponse,
    status_code=<span class="number">201</span>,
    summary=<span class="string">"è„†å¼±æ€§ã‚’æ–°è¦ç™»éŒ²"</span>
)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">create_vulnerability</span>(
    vulnerability: VulnerabilityCreate
):
    <span class="string">"""è„†å¼±æ€§ã‚’æ–°è¦ç™»éŒ²ï¼ˆæ‰‹å‹•ç™»éŒ²ç”¨ï¼‰"""</span>
    ...
            </div>
            
            <h3>Pydanticã‚¹ã‚­ãƒ¼ãƒã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã‚‚è‡ªå‹•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–</h3>
            <div class="code-block">
<span class="comment"># app/schemas/vulnerability.py</span>
<span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel, Field
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime
<span class="keyword">from</span> typing <span class="keyword">import</span> Optional, List


<span class="keyword">class</span> <span class="class">VulnerabilityResponse</span>(BaseModel):
    <span class="string">"""è„†å¼±æ€§ãƒ¬ã‚¹ãƒãƒ³ã‚¹"""</span>
    
    id: <span class="builtin">int</span> = Field(..., description=<span class="string">"è„†å¼±æ€§ID"</span>)
    cve_id: <span class="builtin">str</span> = Field(..., description=<span class="string">"CVE ID"</span>, example=<span class="string">"CVE-2024-1234"</span>)
    title: <span class="builtin">str</span> = Field(..., description=<span class="string">"è„†å¼±æ€§ã‚¿ã‚¤ãƒˆãƒ«"</span>)
    description: Optional[<span class="builtin">str</span>] = Field(<span class="keyword">None</span>, description=<span class="string">"è©³ç´°èª¬æ˜"</span>)
    cvss_score: <span class="builtin">float</span> = Field(..., ge=<span class="number">0</span>, le=<span class="number">10</span>, description=<span class="string">"CVSSã‚¹ã‚³ã‚¢"</span>, example=<span class="number">9.8</span>)
    severity: <span class="builtin">str</span> = Field(..., description=<span class="string">"é‡è¦åº¦"</span>, example=<span class="string">"Critical"</span>)
    is_kev: <span class="builtin">bool</span> = Field(<span class="keyword">False</span>, description=<span class="string">"KEVç™»éŒ²ãƒ•ãƒ©ã‚°"</span>)
    published_date: datetime = Field(..., description=<span class="string">"å…¬é–‹æ—¥"</span>)
    affected_assets_count: <span class="builtin">int</span> = Field(<span class="number">0</span>, description=<span class="string">"å½±éŸ¿ã‚’å—ã‘ã‚‹è³‡ç”£æ•°"</span>)
    
    <span class="keyword">class</span> <span class="class">Config</span>:
        json_schema_extra = {
            <span class="string">"example"</span>: {
                <span class="string">"id"</span>: <span class="number">1</span>,
                <span class="string">"cve_id"</span>: <span class="string">"CVE-2024-1234"</span>,
                <span class="string">"title"</span>: <span class="string">"Apache HTTP Server ã®é‡å¤§ãªè„†å¼±æ€§"</span>,
                <span class="string">"cvss_score"</span>: <span class="number">9.8</span>,
                <span class="string">"severity"</span>: <span class="string">"Critical"</span>,
                <span class="string">"is_kev"</span>: <span class="keyword">True</span>,
                <span class="string">"affected_assets_count"</span>: <span class="number">5</span>
            }
        }
            </div>
            
            <h3>Swagger UI ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
            <div class="swagger-preview">
                <div class="swagger-header">
                    <h3>ğŸ›¡ï¸ è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  API</h3>
                    <p style="color: #ccc; margin-top: 8px;">ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0.0 | <a href="#" style="color: #89bf04;">/openapi.json</a></p>
                </div>
                <div class="swagger-body">
                    <h4 style="margin-bottom: 12px;">è„†å¼±æ€§ç®¡ç†</h4>
                    <div class="swagger-endpoint">
                        <span class="swagger-method get">GET</span>
                        <span class="swagger-path">/api/vulnerabilities</span>
                        <span class="swagger-desc">è„†å¼±æ€§ä¸€è¦§ã‚’å–å¾—</span>
                    </div>
                    <div class="swagger-endpoint">
                        <span class="swagger-method get">GET</span>
                        <span class="swagger-path">/api/vulnerabilities/{cve_id}</span>
                        <span class="swagger-desc">è„†å¼±æ€§è©³ç´°ã‚’å–å¾—</span>
                    </div>
                    <div class="swagger-endpoint">
                        <span class="swagger-method post">POST</span>
                        <span class="swagger-path">/api/vulnerabilities</span>
                        <span class="swagger-desc">è„†å¼±æ€§ã‚’æ–°è¦ç™»éŒ²</span>
                    </div>
                    <div class="swagger-endpoint">
                        <span class="swagger-method put">PUT</span>
                        <span class="swagger-path">/api/vulnerabilities/{cve_id}</span>
                        <span class="swagger-desc">è„†å¼±æ€§ã‚’æ›´æ–°</span>
                    </div>
                    <div class="swagger-endpoint">
                        <span class="swagger-method delete">DELETE</span>
                        <span class="swagger-path">/api/vulnerabilities/{cve_id}</span>
                        <span class="swagger-desc">è„†å¼±æ€§ã‚’å‰Šé™¤</span>
                    </div>
                    
                    <h4 style="margin: 20px 0 12px;">è³‡ç”£ç®¡ç†</h4>
                    <div class="swagger-endpoint">
                        <span class="swagger-method get">GET</span>
                        <span class="swagger-path">/api/assets</span>
                        <span class="swagger-desc">è³‡ç”£ä¸€è¦§ã‚’å–å¾—</span>
                    </div>
                    <div class="swagger-endpoint">
                        <span class="swagger-method get">GET</span>
                        <span class="swagger-path">/api/assets/{id}/vulnerabilities</span>
                        <span class="swagger-desc">è³‡ç”£ã®è„†å¼±æ€§ä¸€è¦§</span>
                    </div>
                </div>
            </div>
            
            <div class="recommend-box">
                <h4>âœ… FastAPI OpenAPIã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>è¿½åŠ ä½œæ¥­ãªã—</strong>ï¼šã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã ã‘ã§ä»•æ§˜æ›¸ãŒå®Œæˆ</li>
                    <li><strong>å¸¸ã«æœ€æ–°</strong>ï¼šã‚³ãƒ¼ãƒ‰ã¨ä»•æ§˜æ›¸ãŒå¸¸ã«åŒæœŸ</li>
                    <li><strong>ãƒ†ã‚¹ãƒˆå¯èƒ½</strong>ï¼šSwagger UIã‹ã‚‰ç›´æ¥APIã‚’ãƒ†ã‚¹ãƒˆ</li>
                    <li><strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ</strong>ï¼šOpenAPIä»•æ§˜ã‹ã‚‰SDKã‚’è‡ªå‹•ç”Ÿæˆå¯èƒ½</li>
                </ul>
            </div>
            
            <h3>ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•</h3>
            <table>
                <tr>
                    <th>URL</th>
                    <th>å†…å®¹</th>
                </tr>
                <tr>
                    <td><code>http://localhost:8000/docs</code></td>
                    <td>Swagger UIï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªAPIä»•æ§˜æ›¸ï¼‰</td>
                </tr>
                <tr>
                    <td><code>http://localhost:8000/redoc</code></td>
                    <td>ReDocï¼ˆèª­ã¿ã‚„ã™ã„APIä»•æ§˜æ›¸ï¼‰</td>
                </tr>
                <tr>
                    <td><code>http://localhost:8000/openapi.json</code></td>
                    <td>OpenAPIä»•æ§˜ï¼ˆJSONå½¢å¼ï¼‰</td>
                </tr>
            </table>
        </div>

        <!-- MkDocs -->
        <div class="section">
            <h2 class="mkdocs">ğŸ“š 2. MkDocsï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆè‡ªå‹•ç”Ÿæˆï¼‰</h2>
            
            <p style="margin-bottom: 20px;">
                <strong>MkDocs</strong>ã¯Markdownã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br>
                <strong>mkdocstrings</strong>ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã¨ã€Pythonã‚³ãƒ¼ãƒ‰ã®docstringã‹ã‚‰è‡ªå‹•ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã§ãã¾ã™ã€‚
            </p>
            
            <h3>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>
            <div class="command-block">
                <span class="prompt">$</span> pip install mkdocs mkdocs-material mkdocstrings[python]
            </div>
            
            <h3>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>
            <div class="file-tree">
<span class="folder">vuln-management/</span>
â”œâ”€â”€ <span class="file">mkdocs.yml</span>              <span class="comment"># MkDocsè¨­å®š</span>
â”œâ”€â”€ <span class="folder">docs/</span>                    <span class="comment"># ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚½ãƒ¼ã‚¹</span>
â”‚   â”œâ”€â”€ <span class="file">index.md</span>             <span class="comment"># ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</span>
â”‚   â”œâ”€â”€ <span class="file">getting-started.md</span>   <span class="comment"># ã¯ã˜ã‚ã«</span>
â”‚   â”œâ”€â”€ <span class="folder">api/</span>                 <span class="comment"># API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">vulnerabilities.md</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">assets.md</span>
â”‚   â”‚   â””â”€â”€ <span class="file">matching.md</span>
â”‚   â”œâ”€â”€ <span class="folder">guides/</span>              <span class="comment"># ã‚¬ã‚¤ãƒ‰</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">installation.md</span>
â”‚   â”‚   â””â”€â”€ <span class="file">configuration.md</span>
â”‚   â””â”€â”€ <span class="folder">reference/</span>           <span class="comment"># ã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰</span>
â”‚       â”œâ”€â”€ <span class="file new">services.md</span>       <span class="comment"># â† docstringã‹ã‚‰è‡ªå‹•ç”Ÿæˆ</span>
â”‚       â””â”€â”€ <span class="file new">models.md</span>         <span class="comment"># â† docstringã‹ã‚‰è‡ªå‹•ç”Ÿæˆ</span>
â””â”€â”€ <span class="folder">app/</span>                     <span class="comment"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰</span>
            </div>
            
            <h3>mkdocs.ymlï¼ˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼‰</h3>
            <div class="code-block">
<span class="comment"># mkdocs.yml</span>
<span class="keyword">site_name</span>: è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
<span class="keyword">site_description</span>: JVN iPediaé€£æº è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
<span class="keyword">site_url</span>: https://your-org.github.io/vuln-management/

<span class="keyword">theme</span>:
  <span class="keyword">name</span>: material
  <span class="keyword">language</span>: ja
  <span class="keyword">palette</span>:
    - <span class="keyword">scheme</span>: default
      <span class="keyword">primary</span>: indigo
      <span class="keyword">accent</span>: indigo
  <span class="keyword">features</span>:
    - navigation.tabs
    - navigation.sections
    - search.highlight
    - content.code.copy

<span class="keyword">plugins</span>:
  - search
  - mkdocstrings:
      <span class="keyword">handlers</span>:
        <span class="keyword">python</span>:
          <span class="keyword">options</span>:
            show_source: true
            show_root_heading: true
            docstring_style: google

<span class="keyword">nav</span>:
  - ãƒ›ãƒ¼ãƒ : index.md
  - ã¯ã˜ã‚ã«:
    - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: guides/installation.md
    - è¨­å®š: guides/configuration.md
  - API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹:
    - è„†å¼±æ€§API: api/vulnerabilities.md
    - è³‡ç”£API: api/assets.md
    - ãƒãƒƒãƒãƒ³ã‚°API: api/matching.md
  - ã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹:
    - ã‚µãƒ¼ãƒ“ã‚¹: reference/services.md
    - ãƒ¢ãƒ‡ãƒ«: reference/models.md

<span class="keyword">markdown_extensions</span>:
  - admonition
  - pymdownx.highlight
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
            </div>
            
            <h3>docstringã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ</h3>
            <div class="code-block">
<span class="comment"># app/services/matching_engine.py</span>
<span class="keyword">class</span> <span class="class">MatchingEngine</span>:
    <span class="string">"""è„†å¼±æ€§ã¨è³‡ç”£ã®ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³
    
    CPEï¼ˆCommon Platform Enumerationï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€
    è„†å¼±æ€§ãŒå½±éŸ¿ã™ã‚‹è³‡ç”£ã‚’ç‰¹å®šã—ã¾ã™ã€‚
    
    Attributes:
        db_session: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒã‚·ãƒ§ãƒ³
        
    Example:
        ```python
        engine = MatchingEngine(db_session)
        matches = engine.find_matches(vulnerability)
        for match in matches:
            print(f"{match.asset.hostname}: {match.priority}")
        ```
    """</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, db_session: Session):
        <span class="string">"""ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã‚’åˆæœŸåŒ–
        
        Args:
            db_session: SQLAlchemyãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒã‚·ãƒ§ãƒ³
        """</span>
        self.db_session = db_session
    
    <span class="keyword">def</span> <span class="function">find_matches</span>(
        self,
        vulnerability: Vulnerability
    ) -> List[VulnerabilityAsset]:
        <span class="string">"""è„†å¼±æ€§ã«è©²å½“ã™ã‚‹è³‡ç”£ã‚’æ¤œç´¢
        
        CPEãƒãƒƒãƒãƒ³ã‚°ã‚’è¡Œã„ã€è„†å¼±æ€§ã®å½±éŸ¿ã‚’å—ã‘ã‚‹è³‡ç”£ã‚’ç‰¹å®šã—ã¾ã™ã€‚
        
        Args:
            vulnerability: æ¤œç´¢å¯¾è±¡ã®è„†å¼±æ€§
            
        Returns:
            ãƒãƒƒãƒã—ãŸè„†å¼±æ€§-è³‡ç”£ã®é–¢é€£ãƒªã‚¹ãƒˆ
            
        Raises:
            ValueError: è„†å¼±æ€§ã«CPEãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆ
            
        Example:
            ```python
            vuln = db.query(Vulnerability).filter_by(cve_id="CVE-2024-1234").first()
            matches = engine.find_matches(vuln)
            ```
        """</span>
        ...
    
    <span class="keyword">def</span> <span class="function">calculate_priority</span>(
        self,
        vulnerability: Vulnerability,
        asset: Asset
    ) -> <span class="builtin">str</span>:
        <span class="string">"""å¯¾å¿œå„ªå…ˆåº¦ã‚’è¨ˆç®—
        
        è„†å¼±æ€§ã®é‡è¦åº¦ã¨è³‡ç”£ã®é‡è¦åº¦ã‹ã‚‰ã€å¯¾å¿œå„ªå…ˆåº¦ã‚’ç®—å‡ºã—ã¾ã™ã€‚
        
        Args:
            vulnerability: è„†å¼±æ€§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
            asset: è³‡ç”£ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
            
        Returns:
            å„ªå…ˆåº¦æ–‡å­—åˆ—ï¼ˆ"Immediate", "Out-of-Cycle", "Scheduled", "Defer"ï¼‰
        """</span>
        ...
            </div>
            
            <h3>reference/services.mdï¼ˆè‡ªå‹•ç”Ÿæˆã‚’æŒ‡ç¤ºï¼‰</h3>
            <div class="code-block">
<span class="comment"># docs/reference/services.md</span>
# ã‚µãƒ¼ãƒ“ã‚¹ ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

## ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³

::: app.services.matching_engine.MatchingEngine
    options:
      show_root_heading: true
      members:
        - find_matches
        - calculate_priority

## é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹

::: app.services.notification_service.NotificationService
            </div>
            
            <h3>ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
            <div class="command-block">
                <span class="comment"># ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’è‡ªå‹•æ¤œçŸ¥ï¼‰</span><br>
                <span class="prompt">$</span> mkdocs serve<br>
                <span class="output">INFO - Serving on http://127.0.0.1:8000/</span><br>
                <br>
                <span class="comment"># é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ“ãƒ«ãƒ‰</span><br>
                <span class="prompt">$</span> mkdocs build<br>
                <span class="output">INFO - Building documentation to directory: site</span>
            </div>
            
            <div class="callout">
                <code>mkdocs serve</code>ä¸­ã¯ã€Markdownã‚„ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨è‡ªå‹•ã§ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚
            </div>
        </div>

        <!-- Claude API -->
        <div class="section">
            <h2 class="ai">ğŸ¤– 3. Claude APIã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆï¼ˆå¥‘ç´„æ¸ˆã¿ï¼‰</h2>
            
            <p style="margin-bottom: 20px;">
                æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯<strong>Claude API</strong>ã‚’æ´»ç”¨ã—ã¦ã€<strong>PRèª¬æ˜æ–‡</strong>ã€<strong>README</strong>ã€<strong>docstring</strong>ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚<br>
                OpenAI APIã‚„GitHub Copilotã¯ä¸è¦ã§ã™ã€‚
            </p>
            
            <div class="recommend-box">
                <h4>âœ… Claude APIã§ã§ãã‚‹ã“ã¨</h4>
                <table style="margin-top: 8px;">
                    <tr>
                        <th>æ©Ÿèƒ½</th>
                        <th>ä»–ã®AI</th>
                        <th>Claude API</th>
                    </tr>
                    <tr>
                        <td>PRèª¬æ˜æ–‡è‡ªå‹•ç”Ÿæˆ</td>
                        <td style="color: #57606a;">OpenAI API</td>
                        <td style="color: #1a7f37;">âœ… ä»£æ›¿å¯èƒ½</td>
                    </tr>
                    <tr>
                        <td>READMEç”Ÿæˆ</td>
                        <td style="color: #57606a;">OpenAI API</td>
                        <td style="color: #1a7f37;">âœ… ä»£æ›¿å¯èƒ½</td>
                    </tr>
                    <tr>
                        <td>docstringç”Ÿæˆ</td>
                        <td style="color: #57606a;">GitHub Copilot</td>
                        <td style="color: #1a7f37;">âœ… ä»£æ›¿å¯èƒ½</td>
                    </tr>
                    <tr>
                        <td>ã‚³ãƒ¼ãƒ‰è£œå®Œ</td>
                        <td style="color: #57606a;">GitHub Copilot</td>
                        <td style="color: #1a7f37;">âœ… Claude.aiã§å¯¾å¿œ</td>
                    </tr>
                </table>
            </div>
            
            <h3>â‘  PRèª¬æ˜æ–‡ã®è‡ªå‹•ç”Ÿæˆ</h3>
            
            <div class="ai-box">
                <h4>ä»•çµ„ã¿</h4>
                <ol style="margin-left: 20px;">
                    <li>PRãŒä½œæˆã•ã‚Œã‚‹ã¨GitHub ActionsãŒèµ·å‹•</li>
                    <li>å¤‰æ›´å·®åˆ†ï¼ˆdiffï¼‰ã‚’å–å¾—</li>
                    <li>Claude APIã«å·®åˆ†ã‚’é€ä¿¡ã—ã¦èª¬æ˜æ–‡ã‚’ç”Ÿæˆ</li>
                    <li>PRã®descriptionã«è‡ªå‹•ã§è¿½è¨˜</li>
                </ol>
            </div>
            
            <h4>GitHub Actionsè¨­å®š</h4>
            <div class="code-block">
<span class="comment"># .github/workflows/pr-description.yml</span>
<span class="keyword">name</span>: Generate PR Description

<span class="keyword">on</span>:
  <span class="keyword">pull_request</span>:
    <span class="keyword">types</span>: [opened]

<span class="keyword">jobs</span>:
  <span class="keyword">generate-description</span>:
    <span class="keyword">runs-on</span>: ubuntu-latest
    <span class="keyword">permissions</span>:
      pull-requests: write
      contents: read
    
    <span class="keyword">steps</span>:
      - <span class="keyword">uses</span>: actions/checkout@v4
        <span class="keyword">with</span>:
          <span class="keyword">fetch-depth</span>: 0
      
      - <span class="keyword">name</span>: Get diff
        <span class="keyword">id</span>: diff
        <span class="keyword">run</span>: |
          git diff origin/${{ github.base_ref }}..HEAD > diff.txt
          echo "diff=$(cat diff.txt | head -c 10000)" >> $GITHUB_OUTPUT
      
      - <span class="keyword">name</span>: Generate description with Claude
        <span class="keyword">id</span>: claude
        <span class="keyword">run</span>: |
          RESPONSE=$(curl -s https://api.anthropic.com/v1/messages \
            -H "Content-Type: application/json" \
            -H "x-api-key: ${{ secrets.ANTHROPIC_API_KEY }}" \
            -H "anthropic-version: 2023-06-01" \
            -d '{
              "model": "claude-sonnet-4-20250514",
              "max_tokens": 1024,
              "messages": [{
                "role": "user",
                "content": "ä»¥ä¸‹ã®git diffã‹ã‚‰ã€ã“ã®PRã®å¤‰æ›´å†…å®¹ã‚’æ—¥æœ¬èªã§ç°¡æ½”ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\n\n## æ¦‚è¦\nï¼ˆ1-2æ–‡ã§å¤‰æ›´ã®ç›®çš„ï¼‰\n\n## å¤‰æ›´å†…å®¹\nï¼ˆç®‡æ¡æ›¸ãã§ä¸»ãªå¤‰æ›´ç‚¹ï¼‰\n\n## å½±éŸ¿ç¯„å›²\nï¼ˆå½±éŸ¿ã‚’å—ã‘ã‚‹æ©Ÿèƒ½ï¼‰\n\ndiff:\n${{ steps.diff.outputs.diff }}"
              }]
            }')
          
          DESCRIPTION=$(echo $RESPONSE | jq -r '.content[0].text')
          echo "description<<EOF" >> $GITHUB_OUTPUT
          echo "$DESCRIPTION" >> $GITHUB_OUTPUT
          echo "EOF" >> $GITHUB_OUTPUT
      
      - <span class="keyword">name</span>: Update PR description
        <span class="keyword">uses</span>: actions/github-script@v7
        <span class="keyword">with</span>:
          <span class="keyword">script</span>: |
            const description = `${{ steps.claude.outputs.description }}`;
            await github.rest.pulls.update({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.issue.number,
              body: description
            });
            </div>
            
            <h3>â‘¡ READMEè‡ªå‹•ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ</h3>
            <div class="code-block">
<span class="comment"># scripts/generate_readme.py</span>
<span class="keyword">import</span> anthropic
<span class="keyword">import</span> os
<span class="keyword">from</span> pathlib <span class="keyword">import</span> Path


<span class="keyword">def</span> <span class="function">generate_readme</span>():
    <span class="string">"""ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‹ã‚‰READMEã‚’ç”Ÿæˆ"""</span>
    
    client = anthropic.Anthropic()
    
    <span class="comment"># ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’åé›†</span>
    project_info = {
        <span class="string">"structure"</span>: get_project_structure(),
        <span class="string">"requirements"</span>: Path(<span class="string">"requirements.txt"</span>).read_text(),
        <span class="string">"docker_compose"</span>: Path(<span class="string">"docker-compose.yml"</span>).read_text(),
    }
    
    prompt = <span class="string">f"""
ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‹ã‚‰ã€READMEã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
{project_info["structure"]}

## ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
{project_info["requirements"]}

## Dockeræ§‹æˆ
{project_info["docker_compose"]}

ä»¥ä¸‹ã®å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- æ©Ÿèƒ½ä¸€è¦§
- å¿…è¦è¦ä»¶
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †
- ä½¿ã„æ–¹
- APIæ¦‚è¦
- é–‹ç™ºè€…å‘ã‘æƒ…å ±
"""</span>
    
    message = client.messages.create(
        model=<span class="string">"claude-sonnet-4-20250514"</span>,
        max_tokens=<span class="number">4096</span>,
        messages=[{<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: prompt}]
    )
    
    readme_content = message.content[<span class="number">0</span>].text
    
    <span class="comment"># README.mdã«æ›¸ãè¾¼ã¿</span>
    Path(<span class="string">"README.md"</span>).write_text(readme_content)
    <span class="builtin">print</span>(<span class="string">"README.md ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"</span>)


<span class="keyword">def</span> <span class="function">get_project_structure</span>() -> <span class="builtin">str</span>:
    <span class="string">"""ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’å–å¾—"""</span>
    structure = []
    <span class="keyword">for</span> path <span class="keyword">in</span> Path(<span class="string">"."</span>).rglob(<span class="string">"*"</span>):
        <span class="keyword">if</span> <span class="string">".git"</span> <span class="keyword">in</span> <span class="builtin">str</span>(path) <span class="keyword">or</span> <span class="string">"__pycache__"</span> <span class="keyword">in</span> <span class="builtin">str</span>(path):
            <span class="keyword">continue</span>
        <span class="keyword">if</span> path.is_file():
            structure.append(<span class="builtin">str</span>(path))
    <span class="keyword">return</span> <span class="string">"\n"</span>.join(structure[:<span class="number">50</span>])  <span class="comment"># æœ€åˆã®50ãƒ•ã‚¡ã‚¤ãƒ«</span>


<span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:
    generate_readme()
            </div>
            
            <h3>â‘¢ docstringè‡ªå‹•ç”Ÿæˆ</h3>
            <div class="code-block">
<span class="comment"># scripts/generate_docstrings.py</span>
<span class="keyword">import</span> anthropic
<span class="keyword">import</span> ast
<span class="keyword">from</span> pathlib <span class="keyword">import</span> Path


<span class="keyword">def</span> <span class="function">generate_docstring</span>(code: <span class="builtin">str</span>) -> <span class="builtin">str</span>:
    <span class="string">"""é–¢æ•°ã‚³ãƒ¼ãƒ‰ã‹ã‚‰docstringã‚’ç”Ÿæˆ"""</span>
    
    client = anthropic.Anthropic()
    
    prompt = <span class="string">f"""
ä»¥ä¸‹ã®Pythoné–¢æ•°ã«Googleå½¢å¼ã®docstringã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```python
{code}
```

docstringã«ã¯ä»¥ä¸‹ã‚’å«ã‚ã¦ãã ã•ã„ï¼š
- é–¢æ•°ã®èª¬æ˜ï¼ˆ1-2æ–‡ï¼‰
- Args: å¼•æ•°ã®èª¬æ˜
- Returns: æˆ»ã‚Šå€¤ã®èª¬æ˜
- Raises: ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ä¾‹å¤–ï¼ˆã‚ã‚Œã°ï¼‰
- Example: ä½¿ç”¨ä¾‹ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ï¼‰

é–¢æ•°å…¨ä½“ï¼ˆdocstringä»˜ãï¼‰ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
"""</span>
    
    message = client.messages.create(
        model=<span class="string">"claude-sonnet-4-20250514"</span>,
        max_tokens=<span class="number">2048</span>,
        messages=[{<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: prompt}]
    )
    
    <span class="keyword">return</span> message.content[<span class="number">0</span>].text


<span class="comment"># ä½¿ç”¨ä¾‹</span>
code = <span class="string">"""
def calculate_priority(cvss_score, is_kev, environment, asset_criticality):
    if cvss_score >= 9.0 and is_kev:
        return "Immediate"
    elif cvss_score >= 7.0 or (is_kev and environment == "production"):
        return "Out-of-Cycle"
    elif cvss_score >= 4.0:
        return "Scheduled"
    else:
        return "Defer"
"""</span>

result = generate_docstring(code)
<span class="builtin">print</span>(result)
            </div>
            
            <h3>â‘£ ã‚³ãƒ¼ãƒ‰è£œå®Œï¼ˆGitHub Copilotã®ä»£æ›¿ï¼‰</h3>
            <p style="margin-bottom: 12px;">
                GitHub CopilotãŒãªãã¦ã‚‚ã€ä»¥ä¸‹ã®æ–¹æ³•ã§ã‚³ãƒ¼ãƒ‰è£œå®ŒãŒå¯èƒ½ã§ã™ã€‚
            </p>
            
            <table>
                <tr>
                    <th>æ–¹æ³•</th>
                    <th>èª¬æ˜</th>
                    <th>ãŠã™ã™ã‚åº¦</th>
                </tr>
                <tr>
                    <td><strong>Claude.ai</strong></td>
                    <td>ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¦è£œå®Œã‚’ä¾é ¼</td>
                    <td>â­â­â­ï¼ˆå¥‘ç´„æ¸ˆã¿ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>Claude Code</strong></td>
                    <td>CLIã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ç·¨é›†</td>
                    <td>â­â­â­ï¼ˆå¥‘ç´„æ¸ˆã¿ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>Continueï¼ˆVSCodeæ‹¡å¼µï¼‰</strong></td>
                    <td>ã‚¨ãƒ‡ã‚£ã‚¿å†…ã§Claude APIã‚’ä½¿ç”¨</td>
                    <td>â­â­ï¼ˆè¨­å®šãŒå¿…è¦ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>Cursor</strong></td>
                    <td>Claudeå¯¾å¿œã®ã‚¨ãƒ‡ã‚£ã‚¿</td>
                    <td>â­â­ï¼ˆåˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰</td>
                </tr>
            </table>
            
            <div class="callout">
                æ—¥å¸¸çš„ãªé–‹ç™ºã§ã¯<strong>Claude.ai</strong>ã§ååˆ†å¯¾å¿œå¯èƒ½ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¦ã€Œã“ã®é–¢æ•°ã‚’å®Œæˆã•ã›ã¦ã€ã€Œã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦ã€ã¨ä¾é ¼ã™ã‚‹ã ã‘ã§ã™ã€‚
            </div>
            
            <div class="point-box">
                <h4>ğŸ”‘ Claude APIã®è¨­å®š</h4>
                <ol style="margin-left: 20px;">
                    <li><a href="https://console.anthropic.com/" target="_blank">Anthropic Console</a>ã§APIã‚­ãƒ¼ã‚’å–å¾—</li>
                    <li>GitHubãƒªãƒã‚¸ãƒˆãƒªã® Settings â†’ Secrets and variables â†’ Actions</li>
                    <li><code>ANTHROPIC_API_KEY</code> ã¨ã—ã¦ç™»éŒ²</li>
                </ol>
            </div>
            
            <div class="warning-box">
                <h4>âš ï¸ APIåˆ©ç”¨æ™‚ã®æ³¨æ„</h4>
                <ul>
                    <li><strong>APIã‚­ãƒ¼ã®ç®¡ç†</strong>ï¼šGitHub Secretsã§ç®¡ç†ã€ã‚³ãƒ¼ãƒ‰ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãªã„</li>
                    <li><strong>ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆ</strong>ï¼šAIç”Ÿæˆå†…å®¹ã¯å¿…ãšäººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼</li>
                    <li><strong>å·®åˆ†ã‚µã‚¤ã‚º</strong>ï¼šå¤§ããªPRã¯å·®åˆ†ã‚’åˆ¶é™ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™å¯¾ç­–ï¼‰</li>
                </ul>
            </div>
        </div>

        <!-- å¤‰æ›´å±¥æ­´è‡ªå‹•ç”Ÿæˆ -->
        <div class="section">
            <h2>ğŸ“‹ 4. å¤‰æ›´å±¥æ­´ï¼ˆCHANGELOGï¼‰è‡ªå‹•ç”Ÿæˆ</h2>
            
            <p style="margin-bottom: 20px;">
                <strong>Conventional Commits</strong>å½¢å¼ã§ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã¨ã€CHANGELOGã‚’è‡ªå‹•ç”Ÿæˆã§ãã¾ã™ã€‚
            </p>
            
            <h3>Conventional Commitså½¢å¼</h3>
            <div class="code-block">
<span class="comment"># ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å½¢å¼</span>
&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;

<span class="comment"># ä¾‹</span>
feat(api): è„†å¼±æ€§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’è¿½åŠ 
fix(matching): CPEãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒã®ãƒã‚°ã‚’ä¿®æ­£
docs(readme): ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’æ›´æ–°
refactor(services): é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test(api): è„†å¼±æ€§APIã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
            </div>
            
            <h3>typeã®ç¨®é¡</h3>
            <table>
                <tr>
                    <th>type</th>
                    <th>èª¬æ˜</th>
                    <th>CHANGELOGã§ã®è¡¨ç¤º</th>
                </tr>
                <tr>
                    <td><code>feat</code></td>
                    <td>æ–°æ©Ÿèƒ½</td>
                    <td>âœ¨ Features</td>
                </tr>
                <tr>
                    <td><code>fix</code></td>
                    <td>ãƒã‚°ä¿®æ­£</td>
                    <td>ğŸ› Bug Fixes</td>
                </tr>
                <tr>
                    <td><code>docs</code></td>
                    <td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</td>
                    <td>ğŸ“ Documentation</td>
                </tr>
                <tr>
                    <td><code>refactor</code></td>
                    <td>ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</td>
                    <td>â™»ï¸ Refactoring</td>
                </tr>
                <tr>
                    <td><code>test</code></td>
                    <td>ãƒ†ã‚¹ãƒˆ</td>
                    <td>âœ… Tests</td>
                </tr>
                <tr>
                    <td><code>chore</code></td>
                    <td>ãã®ä»–ï¼ˆãƒ“ãƒ«ãƒ‰ç­‰ï¼‰</td>
                    <td>ğŸ”§ Chores</td>
                </tr>
            </table>
            
            <h3>è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«ï¼šstandard-version</h3>
            <div class="command-block">
                <span class="comment"># ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span><br>
                <span class="prompt">$</span> npm install -g standard-version<br>
                <br>
                <span class="comment"># CHANGELOGç”Ÿæˆ & ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—</span><br>
                <span class="prompt">$</span> standard-version<br>
                <span class="output">
âœ” bumping version in package.json from 1.0.0 to 1.1.0
âœ” outputting changes to CHANGELOG.md
âœ” committing package.json and CHANGELOG.md
âœ” tagging release v1.1.0
                </span>
            </div>
            
            <h3>ç”Ÿæˆã•ã‚Œã‚‹CHANGELOG.md</h3>
            <div class="code-block">
# Changelog

## [1.1.0] - 2024-12-15

### âœ¨ Features

* **api:** è„†å¼±æ€§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’è¿½åŠ  ([#23](https://github.com/...))
* **dashboard:** ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•ã‚’è¿½åŠ  ([#25](https://github.com/...))

### ğŸ› Bug Fixes

* **matching:** CPEãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒã®ãƒã‚°ã‚’ä¿®æ­£ ([#24](https://github.com/...))

### ğŸ“ Documentation

* **readme:** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’æ›´æ–° ([#22](https://github.com/...))
            </div>
            
            <div class="callout">
                PRãƒãƒ¼ã‚¸æ™‚ã«squash mergeã‚’ä½¿ã„ã€ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã‚’Conventional Commitså½¢å¼ã«ã™ã‚‹ã¨ã€
                å„PRãŒ1ã¤ã®ã‚¨ãƒ³ãƒˆãƒªã¨ã—ã¦CHANGELOGã«è¨˜éŒ²ã•ã‚Œã¾ã™ã€‚
            </div>
        </div>

        <!-- Mermaid -->
        <div class="section">
            <h2 class="mermaid">ğŸ“Š 5. Mermaidï¼ˆå›³ã®è‡ªå‹•ç”Ÿæˆï¼‰</h2>
            
            <p style="margin-bottom: 20px;">
                <strong>Mermaid</strong>ã¯ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰å›³ã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br>
                ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ç®¡ç†ã§ãã‚‹ãŸã‚ã€å¤‰æ›´å±¥æ­´ã®è¿½è·¡ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®¹æ˜“ã§ã™ã€‚
            </p>
            
            <h3>MkDocsã§Mermaidã‚’ä½¿ã†</h3>
            <div class="code-block">
<span class="comment"># docs/architecture.md</span>

# ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```mermaid
graph TB
    subgraph External["å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹"]
        JVN[JVN iPedia API]
        NVD[NVD API]
        KEV[CISA KEV]
    end
    
    subgraph Backend["ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰"]
        API[FastAPI]
        Scheduler[ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼]
        Matching[ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³]
        Notify[é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹]
    end
    
    subgraph Data["ãƒ‡ãƒ¼ã‚¿å±¤"]
        DB[(PostgreSQL)]
    end
    
    subgraph Frontend["ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰"]
        Dashboard[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰]
    end
    
    JVN --> Scheduler
    NVD --> Scheduler
    KEV --> Scheduler
    Scheduler --> DB
    API --> DB
    API --> Matching
    Matching --> DB
    Matching --> Notify
    Dashboard --> API
```
            </div>
            
            <h3>ERå›³ã®ä¾‹</h3>
            <div class="code-block">
<span class="comment"># docs/database.md</span>

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

```mermaid
erDiagram
    vulnerabilities ||--o{ vulnerability_assets : "affects"
    assets ||--o{ vulnerability_assets : "has"
    vulnerabilities ||--o{ vulnerability_cpes : "has"
    
    vulnerabilities {
        int id PK
        string cve_id UK
        string title
        float cvss_score
        string severity
        boolean is_kev
        datetime published_date
    }
    
    assets {
        int id PK
        string hostname
        string ip_address
        string environment
        string criticality
    }
    
    vulnerability_assets {
        int id PK
        int vulnerability_id FK
        int asset_id FK
        string priority
        string status
    }
```
            </div>
            
            <h3>ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã®ä¾‹</h3>
            <div class="code-block">
<span class="comment"># docs/flows/vulnerability-detection.md</span>

# è„†å¼±æ€§æ¤œå‡ºãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant Scheduler as ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼
    participant JVN as JVN API
    participant DB as PostgreSQL
    participant Matching as ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³
    participant Notify as é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹
    
    Scheduler->>JVN: æ–°è¦è„†å¼±æ€§ã‚’å–å¾—
    JVN-->>Scheduler: è„†å¼±æ€§ãƒ‡ãƒ¼ã‚¿
    Scheduler->>DB: è„†å¼±æ€§ã‚’ä¿å­˜
    Scheduler->>Matching: ãƒãƒƒãƒãƒ³ã‚°å®Ÿè¡Œ
    Matching->>DB: è³‡ç”£æƒ…å ±ã‚’å–å¾—
    Matching->>Matching: CPEãƒãƒƒãƒãƒ³ã‚°
    Matching->>DB: çµæœã‚’ä¿å­˜
    Matching->>Notify: Criticalæ¤œå‡ºã‚’é€šçŸ¥
    Notify->>Notify: Slack/Teamsé€ä¿¡
```
            </div>
            
            <div class="recommend-box">
                <h4>âœ… Mermaidã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹</strong>ï¼šGitã§å·®åˆ†ç®¡ç†å¯èƒ½</li>
                    <li><strong>ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯èƒ½</strong>ï¼šPRã§å›³ã®å¤‰æ›´ã‚‚ãƒ¬ãƒ“ãƒ¥ãƒ¼</li>
                    <li><strong>è‡ªå‹•ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</strong>ï¼šGitHubã€MkDocsã€Notionã§è‡ªå‹•è¡¨ç¤º</li>
                    <li><strong>æ›´æ–°ãŒç°¡å˜</strong>ï¼šãƒ†ã‚­ã‚¹ãƒˆä¿®æ­£ã ã‘ã§å›³ã‚’æ›´æ–°</li>
                </ul>
            </div>
        </div>

        <!-- CI/CDé€£æº -->
        <div class="section">
            <h2 class="cicd">ğŸš€ 6. CI/CDã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤</h2>
            
            <p style="margin-bottom: 20px;">
                GitHub Pagesã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚<br>
                mainãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã¨è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚
            </p>
            
            <h3>GitHub Actionsè¨­å®š</h3>
            <div class="code-block">
<span class="comment"># .github/workflows/docs.yml</span>
<span class="keyword">name</span>: Deploy Documentation

<span class="keyword">on</span>:
  <span class="keyword">push</span>:
    <span class="keyword">branches</span>: [main]
    <span class="keyword">paths</span>:
      - 'docs/**'
      - 'mkdocs.yml'
      - 'app/**/*.py'  <span class="comment"># ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã‚‚docstringãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§</span>

<span class="keyword">permissions</span>:
  contents: write

<span class="keyword">jobs</span>:
  <span class="keyword">deploy</span>:
    <span class="keyword">runs-on</span>: ubuntu-latest
    
    <span class="keyword">steps</span>:
      - <span class="keyword">uses</span>: actions/checkout@v4
      
      - <span class="keyword">name</span>: Set up Python
        <span class="keyword">uses</span>: actions/setup-python@v5
        <span class="keyword">with</span>:
          <span class="keyword">python-version</span>: '3.11'
      
      - <span class="keyword">name</span>: Install dependencies
        <span class="keyword">run</span>: |
          pip install mkdocs mkdocs-material mkdocstrings[python]
          pip install -r requirements.txt  <span class="comment"># ã‚¢ãƒ—ãƒªã®ä¾å­˜é–¢ä¿‚ï¼ˆdocstringè§£æç”¨ï¼‰</span>
      
      - <span class="keyword">name</span>: Build and deploy
        <span class="keyword">run</span>: mkdocs gh-deploy --force
            </div>
            
            <h3>ãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œ</h3>
            <div class="flow-container">
                <div class="flow-step code">
                    ğŸ“ docs/ ã‚’æ›´æ–°<br>
                    <small>ã¾ãŸã¯ app/*.py</small>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    ğŸ”€ mainã«ãƒãƒ¼ã‚¸
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step auto">
                    âš™ï¸ GitHub Actions<br>
                    <small>mkdocs build</small>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step output">
                    ğŸŒ GitHub Pages<br>
                    <small>è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤</small>
                </div>
            </div>
            
            <h3>GitHub Pagesã®è¨­å®š</h3>
            <ol style="margin-left: 20px;">
                <li>ãƒªãƒã‚¸ãƒˆãƒªã® Settings â†’ Pages</li>
                <li>Source: <code>Deploy from a branch</code></li>
                <li>Branch: <code>gh-pages</code> / <code>/ (root)</code></li>
                <li>Save</li>
            </ol>
            
            <div class="callout">
                <code>mkdocs gh-deploy</code>ã¯è‡ªå‹•ã§<code>gh-pages</code>ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆãƒ»æ›´æ–°ã—ã¾ã™ã€‚
            </div>
        </div>

        <!-- æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®é©ç”¨ -->
        <div class="section">
            <h2>ğŸ“ 7. æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®é©ç”¨</h2>
            
            <h3>å°å…¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h3>
            <table>
                <tr>
                    <th>Sprint</th>
                    <th>å°å…¥é …ç›®</th>
                    <th>æ‹…å½“</th>
                </tr>
                <tr>
                    <td><strong>Sprint 1</strong></td>
                    <td>
                        ãƒ»FastAPI OpenAPIï¼ˆè‡ªå‹•ãƒ»è¨­å®šä¸è¦ï¼‰<br>
                        ãƒ»Conventional Commitså°å…¥<br>
                        ãƒ»MkDocsåˆæœŸè¨­å®š
                    </td>
                    <td>ãƒªãƒ¼ãƒ‰</td>
                </tr>
                <tr>
                    <td><strong>Sprint 2</strong></td>
                    <td>
                        ãƒ»mkdocstringsè¨­å®š<br>
                        ãƒ»GitHub Pagesè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤<br>
                        ãƒ»PRèª¬æ˜æ–‡è‡ªå‹•ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
                    </td>
                    <td>ãƒªãƒ¼ãƒ‰</td>
                </tr>
                <tr>
                    <td><strong>Sprint 2-5</strong></td>
                    <td>
                        ãƒ»å„æ©Ÿèƒ½ã®docstringè¨˜è¿°<br>
                        ãƒ»Mermaidå›³ã®è¿½åŠ <br>
                        ãƒ»ã‚¬ã‚¤ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ 
                    </td>
                    <td>å„æ‹…å½“</td>
                </tr>
                <tr>
                    <td><strong>Sprint 5</strong></td>
                    <td>
                        ãƒ»CHANGELOGç”Ÿæˆ<br>
                        ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ€çµ‚æ•´å‚™
                    </td>
                    <td>å…¨å“¡</td>
                </tr>
            </table>
            
            <h3>å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</h3>
            <div class="code-block">
<span class="comment"># requirements-docs.txt</span>
mkdocs==<span class="number">1.5.3</span>
mkdocs-material==<span class="number">9.5.3</span>
mkdocstrings[python]==<span class="number">0.24.0</span>

<span class="comment"># AIç”Ÿæˆç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</span>
anthropic==<span class="number">0.18.0</span>
            </div>
            
            <h3>é–‹ç™ºè€…ã®ãƒ«ãƒ¼ãƒãƒ³</h3>
            <table>
                <tr>
                    <th>å ´é¢</th>
                    <th>ã‚„ã‚‹ã“ã¨</th>
                </tr>
                <tr>
                    <td>é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ</td>
                    <td>Googleå½¢å¼ã®docstringã‚’è¨˜è¿°</td>
                </tr>
                <tr>
                    <td>APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä½œæˆ</td>
                    <td>Query/Path/Bodyã«descriptionè¿½åŠ </td>
                </tr>
                <tr>
                    <td>ã‚³ãƒŸãƒƒãƒˆ</td>
                    <td>Conventional Commitså½¢å¼ã§è¨˜è¿°</td>
                </tr>
                <tr>
                    <td>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´</td>
                    <td>Mermaidå›³ã‚’æ›´æ–°</td>
                </tr>
            </table>
            
            <div class="recommend-box">
                <h4>âœ… æœ€å°é™ã®åŠ´åŠ›ã§æœ€å¤§ã®åŠ¹æœ</h4>
                <ol style="margin-left: 20px;">
                    <li><strong>docstringã‚’æ›¸ãç¿’æ…£</strong>ï¼šã“ã‚Œã ã‘ã§APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒè‡ªå‹•ç”Ÿæˆ</li>
                    <li><strong>Conventional Commits</strong>ï¼šã“ã‚Œã ã‘ã§CHANGELOGãŒè‡ªå‹•ç”Ÿæˆ</li>
                    <li><strong>CIã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤</strong>ï¼šæ‰‹å‹•ä½œæ¥­ã‚¼ãƒ­ã§å¸¸ã«æœ€æ–°</li>
                </ol>
            </div>
        </div>

        <!-- ã¾ã¨ã‚ -->
        <div class="section">
            <h2>ğŸ“ ã¾ã¨ã‚</h2>
            
            <h3>ã‚³ã‚¹ãƒˆ</h3>
            <table>
                <tr>
                    <th style="width: 30%;">åŒºåˆ†</th>
                    <th style="width: 30%;">ãƒ„ãƒ¼ãƒ«</th>
                    <th>å‚™è€ƒ</th>
                </tr>
                <tr>
                    <td><strong>ç„¡æ–™ï¼ˆ80%ï¼‰</strong></td>
                    <td>FastAPI, MkDocs, Mermaid, GitHub Actions</td>
                    <td>è¿½åŠ å¥‘ç´„ä¸è¦</td>
                </tr>
                <tr>
                    <td><strong>Claude APIï¼ˆ20%ï¼‰</strong></td>
                    <td>PRèª¬æ˜æ–‡, README, docstringç”Ÿæˆ</td>
                    <td>âœ… å¥‘ç´„æ¸ˆã¿</td>
                </tr>
                <tr>
                    <td style="color: #57606a;">ä¸è¦</td>
                    <td style="color: #57606a;">OpenAI API, GitHub Copilot</td>
                    <td style="color: #57606a;">Claude APIã§ä»£æ›¿</td>
                </tr>
            </table>
            
            <h3>è‡ªå‹•åŒ–ã®å…¨ä½“åƒ</h3>
            <table>
                <tr>
                    <th style="width: 25%;">è‡ªå‹•åŒ–å¯¾è±¡</th>
                    <th style="width: 25%;">ãƒ„ãƒ¼ãƒ«</th>
                    <th>åŠ¹æœ</th>
                </tr>
                <tr>
                    <td><strong>APIä»•æ§˜æ›¸</strong></td>
                    <td>FastAPI OpenAPI</td>
                    <td>ã‚³ãƒ¼ãƒ‰ã¨å¸¸ã«åŒæœŸã€ãƒ†ã‚¹ãƒˆå¯èƒ½</td>
                </tr>
                <tr>
                    <td><strong>ã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</strong></td>
                    <td>MkDocs + mkdocstrings</td>
                    <td>docstringã‹ã‚‰è‡ªå‹•ç”Ÿæˆ</td>
                </tr>
                <tr>
                    <td><strong>PRèª¬æ˜æ–‡</strong></td>
                    <td>Claude API + GitHub Actions</td>
                    <td>ãƒ¬ãƒ“ãƒ¥ãƒ¼åŠ¹ç‡å‘ä¸Š</td>
                </tr>
                <tr>
                    <td><strong>å¤‰æ›´å±¥æ­´</strong></td>
                    <td>Conventional Commits</td>
                    <td>ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­è»½æ¸›</td>
                </tr>
                <tr>
                    <td><strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</strong></td>
                    <td>Mermaid</td>
                    <td>ãƒ†ã‚­ã‚¹ãƒˆã§ç®¡ç†ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯èƒ½</td>
                </tr>
                <tr>
                    <td><strong>ã‚µã‚¤ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤</strong></td>
                    <td>GitHub Actions + Pages</td>
                    <td>è‡ªå‹•æ›´æ–°ã€æ‰‹å‹•ä½œæ¥­ã‚¼ãƒ­</td>
                </tr>
            </table>
            
            <div class="point-box">
                <h4>ğŸ¯ è‡ªå‹•åŒ–ã®ãƒã‚¤ãƒ³ãƒˆ</h4>
                <ul>
                    <li><strong>ã‚³ãƒ¼ãƒ‰ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</strong>ï¼šdocstringã€å‹ãƒ’ãƒ³ãƒˆã€Pydanticã‚¹ã‚­ãƒ¼ãƒã‚’æ›¸ã‘ã°è‡ªå‹•ç”Ÿæˆ</li>
                    <li><strong>ã‚³ãƒŸãƒƒãƒˆãŒCHANGELOG</strong>ï¼šConventional Commitså½¢å¼ã§æ›¸ã‘ã°è‡ªå‹•ç”Ÿæˆ</li>
                    <li><strong>CIãŒå…¨ã¦ã‚’ç¹‹ã</strong>ï¼šãƒãƒ¼ã‚¸ã™ã‚‹ã ã‘ã§æœ€æ–°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¬é–‹</li>
                    <li><strong>AIã¯Claude APIã«çµ±ä¸€</strong>ï¼šOpenAI APIã€GitHub Copilotã¯ä¸è¦</li>
                    <li><strong>AIç”Ÿæˆã¯è£œåŠ©</strong>ï¼šç”Ÿæˆã—ãŸå†…å®¹ã¯å¿…ãšäººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼</li>
                </ul>
            </div>
        </div>

        <!-- å‚è€ƒãƒªãƒ³ã‚¯ -->
        <div class="section">
            <h2>ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯</h2>
            
            <h3>ç„¡æ–™ãƒ„ãƒ¼ãƒ«</h3>
            <table>
                <tr>
                    <th style="width: 30%;">ãƒªã‚½ãƒ¼ã‚¹</th>
                    <th>URL</th>
                </tr>
                <tr>
                    <td><strong>FastAPI</strong></td>
                    <td><a href="https://fastapi.tiangolo.com/" target="_blank">https://fastapi.tiangolo.com/</a></td>
                </tr>
                <tr>
                    <td><strong>MkDocs</strong></td>
                    <td><a href="https://www.mkdocs.org/" target="_blank">https://www.mkdocs.org/</a></td>
                </tr>
                <tr>
                    <td><strong>MkDocs Material</strong></td>
                    <td><a href="https://squidfunk.github.io/mkdocs-material/" target="_blank">https://squidfunk.github.io/mkdocs-material/</a></td>
                </tr>
                <tr>
                    <td><strong>mkdocstrings</strong></td>
                    <td><a href="https://mkdocstrings.github.io/" target="_blank">https://mkdocstrings.github.io/</a></td>
                </tr>
                <tr>
                    <td><strong>Mermaid</strong></td>
                    <td><a href="https://mermaid.js.org/" target="_blank">https://mermaid.js.org/</a></td>
                </tr>
                <tr>
                    <td><strong>Conventional Commits</strong></td>
                    <td><a href="https://www.conventionalcommits.org/ja/" target="_blank">https://www.conventionalcommits.org/ja/</a></td>
                </tr>
            </table>
            
            <h3>Claudeé–¢é€£</h3>
            <table>
                <tr>
                    <th style="width: 30%;">ãƒªã‚½ãƒ¼ã‚¹</th>
                    <th>URL</th>
                </tr>
                <tr>
                    <td><strong>Claude API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</strong></td>
                    <td><a href="https://docs.anthropic.com/" target="_blank">https://docs.anthropic.com/</a></td>
                </tr>
                <tr>
                    <td><strong>Anthropic Console</strong></td>
                    <td><a href="https://console.anthropic.com/" target="_blank">https://console.anthropic.com/</a></td>
                </tr>
                <tr>
                    <td><strong>Claude.ai</strong></td>
                    <td><a href="https://claude.ai/" target="_blank">https://claude.ai/</a></td>
                </tr>
                <tr>
                    <td><strong>Continueï¼ˆVSCodeæ‹¡å¼µï¼‰</strong></td>
                    <td><a href="https://continue.dev/" target="_blank">https://continue.dev/</a></td>
                </tr>
            </table>
        </div>

        <div style="text-align: center; color: #57606a; margin-top: 30px; padding: 20px;">
            <p>è„†å¼±æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒãƒ¼ãƒ å‘ã‘è³‡æ–™</p>
        </div>
    </div>
</body>
</html>
